<app-search-bar
	[items]="products"
	(searchChange)="onSearchChange($event)"
	[(searchText)]="searchText">
</app-search-bar>

<div class="modal-container" *ngIf="!status.hidden">
	<div class="modal-backdrop" [ngClass]="{ hide: status.hidden }"></div>
	<div class="modal modal--full" [ngClass]="{ hide: status.hidden }">
		<div class="modal__dialog">
			<div class="modal__content text-left">
				<a data-auto-id="searchClose" class="modal__close" (click)="onClose()">
					<span class="icon-close"></span>
				</a>
				<div class="row no-gutters">
					<div [ngClass]="{
							'col-md-12': !specialSearch || !specialSearch.sidebarContent || hideSpecialSearch,
							'col-md-9': specialSearch?.sidebarContent && !hideSpecialSearch
						}">
						<div class="panel panel--loose">
							<!-- Special search views depending on query type -->
							<div id="specialContainer"
								class="base-margin-bottom"
								[hidden]="hideSpecialSearch">
								<ng-container [ngSwitch]="searchType">
									<app-contract-search *ngSwitchCase="'contract'"
										[contractNumber]="selectedSearch"
										(hide)="onHide($event)">
									</app-contract-search>
									<serial-search *ngSwitchCase="'sn'"
										[serialNumber]="selectedSearch"
										(hide)="onHide($event)">
									</serial-search>
								</ng-container>
							</div>
							<hr *ngIf="specialSearch && !hideSpecialSearch" />
							<app-general-search
								[query]="generalSearch">
							</app-general-search>
						</div>
					</div>
					<div class="col-md-3"
						*ngIf="specialSearch?.sidebarContent && !hideSpecialSearch">
						<!-- The right-hand sidebar content for each special search view can be projected here -->
						<ng-container *ngTemplateOutlet="specialSearch?.sidebarContent"></ng-container>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
