<app-search-bar
	[items]="products"
	(searchChange)="onSearchChange($event)"
	[(searchText)]="searchText">
</app-search-bar>

<div class="modal-container" *ngIf="!status.hidden">
	<div class="modal-backdrop" [ngClass]="{ hide: status.hidden }"></div>
	<div class="modal modal--full" [ngClass]="{ hide: status.hidden }">
		<div class="modal__dialog">
			<div class="modal__content text-left">
				<a data-auto-id="searchClose" class="modal__close" (click)="onClose()">
					<span class="icon-close"></span>
				</a>
				<div class="row no-gutters">
					<div class="col-md-9">
						<div class="panel panel--loose">
							<!-- TODO add special search views depending on query type -->
							<div class="base-margin-bottom">
								<app-contract-search *ngIf="searchType === 'contract'"
									[contractNumber]="selectedSearch">
								</app-contract-search>
							</div>
							<hr *ngIf="specialSearch" />
							<app-general-search
								[query]="selectedSearch">
							</app-general-search>
						</div>
					</div>
					<div class="col-md-3">
						<!-- TODO the right-hand sidebar content for each special search view can be projected here -->
						<ng-container *ngTemplateOutlet="specialSearch?.sidebarContent"></ng-container>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
