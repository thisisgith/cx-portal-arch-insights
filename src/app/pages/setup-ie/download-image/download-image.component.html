<install-progress [view]="view"></install-progress>
<alert
	[title]="error"
	[(visible)]="error"
	[showHelpLink]="false"
	(visibleChange)="didDecline = false"
>
	<ng-container *ngIf="didDecline">
		<div [innerText]="'_IfYouDoNotAgreeToK9_' | i18n" class="half-margin-bottom"></div>
		<div>
			<a [innerText]="'_ReturnToCXPortalHome_' | i18n" [routerLink]="['/']"></a>
		</div>
	</ng-container>
</alert>
<div class="text-center">
	<div [innerText]="'_InstallCXCollectorOnVM_' | i18n"
		class="xl-margin-top base-margin-bottom step-title">
	</div>
	<cui-loader *ngIf="loading && !error" [label]="'_Loading_' | i18n"></cui-loader>
	<k9-form
		*ngIf="!loading && view === 'k9'"
		[k9Data]="k9Data"
		(onAccept)="onAcceptK9($event)"
		(onDecline)="onDecline()"
	></k9-form>
	<eula-form
		*ngIf="!loading && view === 'eula'"
		[eulaData]="eulaData"
		(onDownload)="acceptEULAAndDownload()"
		(onDecline)="onDecline()"
	></eula-form>
	<k9-decline
		*ngIf="!loading && view === 'k9-decline'"
		(onCancel)="cancelK9Decline()"
		(onContinue)="confirmK9Decline()"
	></k9-decline>
	<div 
		*ngIf="!loading && view === 'pre-download'"
	>
		<h6
			class="xl-margin-bottom"
			[innerText]="'_DownloadTheOVAFile_' | i18n"
		></h6>
		
		<button
			data-auto-id="download-image-btn"
			[innerText]="'_DownloadImage_' | i18n | uppercase"
			class="btn cx-btn"
			(click)="onDownload()"
		>
		</button>
	</div>
	<connect
		*ngIf="!loading && view === 'connect'"
		(onContinue)="continue()"
		(onTutorial)="goToInstructions()"
	></connect>
</div>
