<!-- grid section starts -->
<div class="row">
	<div class="col-4">
		<div class="container">
			<span [innerText]="'_Syslogs_' | i18n" class="text-large"></span>
			<span class="qtr-margin-left text-small text-muted" *ngIf="tableData.length > 0"
				[innerText]="'_SyslogShowingXofYMessages_' | i18n:(tableStartIndex + 1):tableEndIndex:totalItems">
			</span>
		</div>
	</div>
	<div class="col-8">
		<div>
			<form #f="ngForm" class="row" id="searchForm" (keydown)="keyDownFunction($event)">
				<div class="col-4">
					<div class="form-group input--icon input--compressed">
						<div class="form-group__text">
							<input data-auto-id="includeMsg" #includeMsg="ngModel" [(ngModel)]="msgInclude"
								name="includeMsg" type="text" class="form-control" placeholder="{{
									'_SyslogIncludeMessage_' | i18n
								}}" />
							<button type="button" class="link" tabindex="-1">
								<span class="icon-search"></span>
							</button>
						</div>
					</div>
				</div>
				<div class="col-4">
					<div class="form-group input--icon input--compressed">
						<div class="form-group__text">
							<input data-auto-id="excludeMsg" #excludeMsg="ngModel" [(ngModel)]="msgExclude"
								name="excludeMsg" type="text" class="form-control"
								placeholder="{{ 'ExcludeMessage' | i18n }}" />

							<button type="button" class="link" tabindex="-1">
								<span class="icon-search"></span>
							</button>
						</div>
					</div>
				</div> 
				<div class="col-4">
					<div class="form-group input--icon input--compressed">
						<div class="form-group__text">
							<input data-auto-id="search" #search="ngModel" [(ngModel)]="searchVal" name="search"
								type="text" class="form-control" placeholder="{{ '_SyslogSearch_' | i18n }}" />
							<button type="button" class="link" tabindex="-1">
								<span class="icon-search"></span>
							</button>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>

</div>
<div class="container base-margin-top" data-auto-id="syslog-message-table" *ngIf="tableData.length && !loading">
	<cui-table
		class="not-close-360"
		[options]="tableOptions"
		[data]="tableData"
		[limit]="tableLimit"
		[offset]="tableOffset"
		(onSortingChanged)="onTableSortingChanged($event)"
		(onTableRowClicked)="onTableRowSelection($event)"
	></cui-table>
	<div class="section">
		<cui-pager
			[page]="tableOffset"
			[limit]="tableLimit"
			[totalItems]="totalItems"
			(onPageChanged)="onPagerUpdated($event)"
		></cui-pager>
	</div>
</div>
<div class="container qtr-margin-top no-padding">
	<div *ngIf="loading && !tableData.length" class="base-margin-bottom">
		<cui-spinner></cui-spinner>
	</div>
</div>

<div *ngIf="!tableData.length && !loading">
	<div class="text-center dbl-margin-top dbl-margin-bottom">
		<div>
			<span class="text-muted text-xlarge"
				[innerText]="'_NoResultsFound_' | i18n"
				data-auto-id="NoResultsFoundTxt">
			</span>
		</div>

	</div>
</div>
<!-- grid-section ends -->

<ng-template #icdecTemplate let-item="celldata">
	<div class="syslog-column" title="{{ item.IcDesc }}" [innerText]="item.IcDesc">
	</div>
</ng-template>
<ng-template #actionTemplate let-item="celldata">
	<div class="syslog-column" title="{{ item.Recommendation }}" [innerText]="item.Recommendation">
	</div>
</ng-template>

<details-panel
	*ngIf="selectedAsset"
	[hidden]="!selectedAsset"
	(hiddenChange)="handleHidden($event)"
	[fullscreen]="fullscreen"
	[minWidth]="'900px'"
>
	<details-panel-header
		(close)="onPanelClose()"
		[(fullscreen)]="fullscreen"
		[fullscreenToggle]="false"
	>
		<div class="row">
			<div class="col-md-12">
				<div class="text-xlarge">
					<span [innerText]="'_SyslogMessageType_' | i18n"></span>
					<span [innerText]="selectedAsset.MsgType "> </span>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-2">
				<div class="row">
					<div class="col-md-12" [innerText]="'Severity'"></div>
					<div 
						class="col-md-12">
	<i class="icon-circle" 
						 	[ngClass]="{
							'0': 'text-danger',
							'1': 'text-danger',
							'2': 'text-warning',
							'3': 'text-warning-alt',
							'4': 'text-warning-alt',
							'5': 'text-primary',
							'6': 'text-primary',
							'7': 'text-primary'
						}[selectedAsset?.SyslogSeverity]"
						>
					</i> 
						<span [innerText]="selectedAsset.SyslogSeverity"></span>
				</div>
				</div>
			</div>
			<div class="col-md-3">
				<div class="row">
					<div class="col-md-12" [innerText]="'Syslog Count'"></div>
					<div
						class="col-md-12"
						[innerText]="selectedAsset.syslogMsgCount"
					></div>
				</div>
			</div>
		</div>
		<div detailsPanelTitle class="text-xlarge"></div>
	</details-panel-header>
	<syslog-message-details
		[asset]="selectedAsset"
		[selectedFilter]="syslogsParams"
	></syslog-message-details>
</details-panel>
