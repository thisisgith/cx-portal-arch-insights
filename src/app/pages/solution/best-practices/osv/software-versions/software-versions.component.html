<div class="divider qtr-margin-top"></div>
<ng-container *ngTemplateOutlet="tableSoftwareVersion"></ng-container>
<div *ngIf="status.isLoading">
	<cui-spinner></cui-spinner>
</div>

<ng-template #tableSoftwareVersion>
	<div class="responsive-table" *ngIf="!status.isLoading && softwareVersionsTable && softwareVersions.length">
		<table class="table table--selectable table--compressed table--wrap table--lined table--hover">
			<thead>
				<tr>
					<th *ngFor="let column of softwareVersionsTable.columns"
						[ngClass]="{ 'sortable': column.sortable, 'sorted': column.sorting }">
						<span [innerText]="column.name"></span>
						<span *ngIf="column.sortable && column.sorting" class="qtr-margin-left" [ngClass]="{
										'icon-chevron-down': column.sortDirection === 'asc',
										'icon-chevron-up': column.sortDirection === 'desc'
									}">
						</span>
					</th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let item of softwareVersions" (click)="onRowSelect(item)"
					[ngClass]="{ 'active': item.details }" attr.data-auto-id="SoftwareVersion-{{ item.version }}">
					<td *ngFor="let column of softwareVersionsTable.columns" [ngStyle]="{ 'width': column.width }"
						(click)="column.click ? $event.stopPropagation() : null"
						attr.data-auto-id="SoftwareVersionItemClickHandler-{{ item.version }}">
						<ng-container *ngIf="column.template">
							<ng-container *ngTemplateOutlet="column.template; context: { celldata: item.data }">
							</ng-container>
						</ng-container>
						<ng-container *ngIf="!column.template">
							<span *ngIf="column.render" [innerHTML]="column.render(item)"></span>
							<span *ngIf="!column.render" [innerText]="item[column.key]"></span>
						</ng-container>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</ng-template>
