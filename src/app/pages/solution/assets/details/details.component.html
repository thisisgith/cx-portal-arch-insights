<div class="panel panel--bordered-left flex-fill panel--no-padding">
	<ng-container *ngTemplateOutlet="assetHeader"></ng-container>
	<cui-tabs>
		<cui-tab [label]="'_Details_' | i18n">
			<ng-container *ngTemplateOutlet="details"></ng-container>
		</cui-tab>
		<cui-tab [label]="'_Hardware_' | i18n" disabled="true">

		</cui-tab>
		<cui-tab [label]="'_Software_' | i18n" disabled="true">

		</cui-tab>
		<cui-tab [label]="'_Vulnerabilities_' | i18n" disabled="true">

		</cui-tab>
		<cui-tab [label]="'_Insights_' | i18n" disabled="true">

		</cui-tab>
		<cui-tab [label]="'_Activity_' | i18n" disabled="true">

		</cui-tab>
	</cui-tabs>
</div>

<ng-template #assetHeader>
	<div class="assets-header base-padding">
			<div class="row ">
				<div class="col-md-8 base-padding-bottom qtr-padding-top">
					<div class="flex">
						<button class="btn btn--icon btn--tiny btn--light-gray half-margin-right">
							<span class="icon-maximize icon-positioned icon-positioned--left"></span>
							<span class="icon-minimize icon-positioned icon-positioned--right"></span>
						</button>
						<div class="text-xlarge" [innerText]="asset?.hostname || asset?.serialNumber"></div>
					</div>
				</div>

				<div class="col-md-4 text-right">
					<a class="text-dkgray-4" data-auto-id="FullScreen">
						<span data-auto-id="asset-details-toggle-fullscreen-icon" class="icon--mid half-margin-right"
							[title]="'_ToggleFullscreen_' | i18n" [ngClass]="{
										'icon-fullscreen': !fullscreen,
										'icon-exit-fullscreen': fullscreen
									}" (click)="toggleFullscreen()"></span>
					</a>
					<a class="text-dkgray-4" data-auto-id="ClearAsset" (click)="clearAsset()">
						<span class="icon-close icon--mid"></span>
					</a>
				</div>
			
				<!-- <div class="col-md-4 base-padding-bottom text-right">
					<a class="text-dkgray-4" data-auto-id="FullScreen">
						<span class="icon-fullscreen icon--mid half-margin-right"></span>
					</a>
					<a class="text-dkgray-4" data-auto-id="ClearAsset" (click)="clearAsset()">
						<span class="icon-close icon--mid"></span>
					</a>
				</div> -->

				<div class="col-md-8 base-margin-bottom">
					<div class="dbl-margin-left flex">
						<div *ngIf="asset?.hostname" class="dbl-margin-right">
							<div class="text-muted text-small text-uppercase" innerText="{{ '_Hostname_' | i18n }}"></div>
							<div innerText="{{ asset?.hostname }}"></div>
						</div>
				
						<div *ngIf="asset?.managementAddress" class="dbl-margin-right">
							<div class="text-muted text-small text-uppercase" innerText="{{ '_IPAddress_' | i18n }}"></div>
							<div innerText="{{ asset?.managementAddress }}"></div>
						</div>
				
						<div *ngIf="asset?.serialNumber" class="dbl-margin-right">
							<div class="text-muted text-small text-uppercase" innerText="{{ '_SerialNumber_' | i18n }}"></div>
							<div innerText="{{ asset?.serialNumber }}"></div>
						</div>
					</div>
				</div>
				
				<div class="col-md-4 half-margin-top">
					<!-- TODO: Hook this up to real API data -->
					<div class="flex justify-content-end">
						<span class="text-danger icon-circle qtr-margin-right">
						</span>
						<div innerText="{{ '_DeviceUnreachable_' | i18n }}">
					</div>
				</div>
			</div>

			<div class="col-md-6 qtr-margin-top" *ngIf="!status.loading.cases">

			<div 
				*ngIf="componentData.openCases"
				class="dropdown dropdown--center dropdown--tail open-case-toggle-btn"
				[ngClass]="{ active: casesDropdownActive }"
			>
				<a 	
					data-auto-id="ToggleActiveCases"
					(click)="toggleActiveCases()"
					href="#"
					class="text-uppercase open-case-toggle dbl-margin-left"
					innerText="{{ '_OpenCases_' | i18n }} ({{ componentData.openCases }})"
				>
				</a>

				<!-- BEGIN TODO: use API data when it returns -->
				<div class="dropdown__menu half-padding">
					<div class="dropdown-case">
						<div class="flex align-items-center justify-content-between half-margin-bottom"> 
							<div class="flex dbl-margin-right">
								<span class="icon-circle qtr-margin-right"></span>
								<span class="half-margin-right">S2</span>
								<span class="flex qtr-margin-right">Case</span> <strong>667389903</strong>
							</div>
							<div class="label label--bordered-dark">customer pending</div>
						</div>
						<div class="half-margin-bottom">
							Automated diagnostic result case. A security anomaly was detected in the SMTP configuration.
						</div>
						<div class="text-italic	half-margin-bottom">Updated by Cisco 1 day ago</div>
					</div>

					<div class="dropdown-case">
						<div class="flex align-items-center justify-content-between half-margin-bottom">
							<div class="flex dbl-margin-right">
								<span class="icon-circle qtr-margin-right"></span>
								<span class="half-margin-right">S3</span>
								<span class="flex qtr-margin-right">Case</span> <strong>667389903</strong>
							</div>
							<div class="label label--bordered-dark">cisco pending</div>
						</div>
						<div class="half-margin-bottom">
							Automated diagnostic result case. A security anomaly was detected in the SMTP configuration.
						</div>
						<div class="text-italic	half-margin-bottom">Updated by you 3 days ago</div>
					</div>
					
				
				</div>
				<!-- END TODO -->
			</div>

			<div *ngIf="!componentData.openCases" class="text-uppercase dbl-margin-left"
				innerText="{{ '_OpenCases_' | i18n }} ({{ componentData.openCases }})">
			</div>

			</div>
			<div class="text-right" [ngClass]="{
										'col-md-12': status.loading.cases,
										'col-md-6': !status.loading.cases
									}">
				<!-- TODO: hook up buttons -->
				<button class="text-uppercase btn btn--bright-blue btn--small" [innerText]="'_Scan_' | i18n"></button>
				<button class="text-uppercase btn btn--bright-blue btn--small" [innerText]="'_OpenCase_' | i18n"></button>
				<div 
					data-auto-id="ToggleActiveAction"
					(click)="toggleActiveAction()"
					[ngClass]="{ active: actionDropdownActive }"
					class="dropdown dropdown--actions dropdown--tail dropdown--left">
					<span class="icon-more icon-medium icon--rotated"></span>
					<div class="dropdown__menu">
						<!-- TODO: add edit and delete functionality once open cases return -->
						<a innerText="{{ '_Edit_' | i18n}}"></a> 
						<a innerText="{{ '_Delete' | i18n}}"></a>
					</div>
				</div>
			</div>
		</div>

	</div>

</ng-template>

<ng-template #details>
	<div class="row base-margin-top">
		<div class="col-md-8">
			<div class="row">
				<div class="col-md-12">
					<ng-container *ngTemplateOutlet="detailsData; context: { title: '_ProductSeries_', data: asset?.productFamily }"></ng-container>
				</div>
				<div class="col-md-12 base-margin-top">
					<ng-container *ngTemplateOutlet="detailsData; context: { title: '_ProductID_', data: asset?.productId }"></ng-container>
				</div>
				<div class="col-md-12 base-margin-top">
					<ng-container *ngTemplateOutlet="detailsData; context: { title: '_OSVersion_', data: asset?.swVersion }"></ng-container>
				</div>
				<div class="col-md-12 base-margin-top">
					<ng-container *ngTemplateOutlet="detailsData; context: { title: '_UpcomingEOXMilestones_', data: '' }"></ng-container>
				</div>
			</div>
		</div>
		<div class="col-md-4 flex flex-center">
			<img alt="{{ '_StockPhoto_' | i18n }}"
				src="assets/img/inventory/CAT-3650.png">
		</div>
	</div>

	<div class="row base-margin-top">
		<div class="col-md-8">
			<ng-container *ngTemplateOutlet="detailsData; context: { title: '_CXSubscription_', data: '' }"></ng-container>
		</div>
		<div class="col-md-4">
			<button class="btn btn--gray-ghost btn--small btn--tiny half-padding-left half-padding-right text-small"
				[innerText]="'_Upgrade_' | i18n">
			</button>
		</div>
	</div>

	<div class="row base-margin-top">
		<div class="col-md-8">
			<ng-container *ngTemplateOutlet="detailsData; context: { title: '_SupportContract_', data: '' }"></ng-container>
		</div>
		<div class="col-md-4">
			<button class="btn btn--gray-ghost btn--small btn--tiny half-padding-left half-padding-right text-small"
				[innerText]="'_Renew_' | i18n">
			</button>
		</div>
	</div>

	<div class="row base-margin-top">
		<div class="col-md-8">
			<ng-container *ngTemplateOutlet="detailsData; context: { title: '_Warranty_', data: '' }"></ng-container>
		</div>
		<div class="col-md-4">
			<!-- Empty for Spacing -->
		</div>
	</div>

	<div class="row base-margin-top">
		<div class="col-md-8">
			<ng-container *ngTemplateOutlet="detailsData; context: { title: '_DiagnosticScanSchedule_', data: '' }"></ng-container>
		</div>
		<div class="col-md-4">
			<button class="btn btn--gray-ghost btn--small btn--tiny half-padding-left half-padding-right text-small"
				[innerText]="'_Change_' | i18n">
			</button>
		</div>
	</div>

	<div class="row base-margin-top">
		<div class="col-md-8">
			<ng-container *ngTemplateOutlet="detailsData; context: { title: '_Location_', data: '' }"></ng-container>
		</div>
		<div class="col-md-4">
			Map
		</div>
	</div>
</ng-template>

<ng-template #detailsData let-title="title" let-data="data">
	<div class="row">
		<div class="col-md-6 text-right" [innerText]="title | i18n"></div>
		<div class="col-md-6" [innerText]="data || ('_NA_' | i18n)"></div>
	</div>
</ng-template>
