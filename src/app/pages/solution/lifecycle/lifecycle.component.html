<div class="panel panel--ltgray panel--bordered" #lifecyclePanel [class.panel--bottom-padding]="panelBottomPaddingNeeded || panelBottomPaddingNeededForMessage">
	<div class="row base-padding-top">
		<div class="col-md-3 base-padding-left" *ngIf="!status.loading.racetrack && componentData?.racetrack?.stage">
			<ng-container *ngTemplateOutlet="racetrack"></ng-container>
		</div>

		<div class="col-md-9">
			<div class="global-filter" *ngIf="partnerList" data-auto-id="GlobalFilter">
				<multiselect name="Content Provider"
					[items]="partnerList"
					nameKey="companyName"
					valueKey="companyId"
					[defaultValues]="selectedPartnerFilter"
					(changed)="setProviderFilter($event)">
				</multiselect>
			</div>
			<div class="row">
				<div class="col-md-4">
					<app-communities></app-communities>
					<ng-container *ngTemplateOutlet="panel; context: {
							template: atxPanel,
							title: '_AskTheExperts_',
							loading: status.loading.atx,
							data: componentData.atx,
							viewAllLabel: '_ViewAll_',
							viewAll: 'atx'
						}">
					</ng-container>
				</div>
				<div class="col-md-4">
					<ng-container *ngTemplateOutlet="panel; context: {
						template: successBytesPanel,
						title: '_SuccessTips_',
						loading: status.loading.success,
						data: componentData.learning,
						viewAllLabel: '_ViewAll_',
						viewAll: '_SuccessTips_'
					}">
					</ng-container>
					<ng-container *ngTemplateOutlet="panel; context: {
							template: learnPanel,
							title: '_Learn_',
							loading: (status.loading.elearning && !status.loading.success),
							data: componentData.learning
						}">
					</ng-container>
					<ng-container *ngIf="enableCGT && cxLevel === 3">
						<ng-container *ngTemplateOutlet="panel; context: {
							template: cgtPanel,
							icon: 'communities',
							title: '_CustomizedGroupTraining_',
							loading: status.loading.cgt,
							data: componentData.cgt
						}">
						</ng-container>
					</ng-container>
				</div>
				<div class="col-md-4">
					<ng-container *ngTemplateOutlet="panel; context: {
							template: accPanel,
							title: '_Accelerator_',
							loading: status.loading.acc,
							data: componentData.acc,
							viewAllLabel: '_ViewAll_',
							viewAll: 'acc'
						}">
					</ng-container>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="modal-container" *ngIf="modal.visible">
	<div class="modal modal--full" [ngClass]="{ hide: !modal.visible }" [ngStyle]="{'margin-top': appHeaderHeightPX }">
		<div class="lifecycle-modal modal__dialog no-padding" >
			<ng-container *ngTemplateOutlet="modal.content; context: modal.context"></ng-container>
		</div>
	</div>
</div>

<ng-template #racetrack>
	<div class="base-padding-left">
		<div class="pitstop-title">
			<h3 class="text-primary" *ngIf="currentWorkingPitstop" [innerText]="currentWorkingPitstop" data-auto-id="CurrentPitstopTitle"></h3>
		</div>
		<div class="pitstop-margin"></div>
		<div class="pitstop-finishline">
			<svg class="pitstop-banner">
				<polygon points="0,0 100,0 100,50 20,50" />
				<text class="comPertText text-bold" x="55" y="23" text-anchor="middle" [innerHTML]="currentActionsCompPert" data-auto-id="CompletedActionsPercent"></text>
			</svg>
			<span><img class="finishline qtr-margin-top" alt="'_FinishLine_' | i18n" src="assets/img/solutions/finishline_side.png"> </span>
		</div>
	</div>
	<div class="half-padding-top half-padding-left">
		<app-racetrack [stage]="componentData.racetrack.stage"
			[currentStage]="currentWorkingPitstop"
			(onStageChange)="getLifecycleInfo($event)">
		</app-racetrack>
		<div class="half-padding-left">
			<span *ngIf="currentPitstop" [innerHTML]="'_DuringXStage_' | i18n:currentPitstop.name"></span>
			<span [ngSwitch]="componentData?.racetrack?.stage">
				<span *ngSwitchCase="'Onboard'" [innerHTML]="'_OnboardDescription_' | i18n"></span>
				<span *ngSwitchCase="'Implement'" [innerHTML]="'_ImplementDescription_' | i18n"></span>
				<span *ngSwitchCase="'Adopt'" [innerHTML]="'_AdoptDescription_' | i18n"></span>
				<span *ngSwitchCase="'Engage'" [innerHTML]="'_EngageDescription_' | i18n"></span>
				<span *ngSwitchCase="'Use'" [innerHTML]="'_UseDescription_' | i18n"></span>
				<span *ngSwitchCase="'Optimize'" [innerHTML]="'_OptimizeDescription_' | i18n"></span>
			</span>
		</div>
	</div>
	<div class="pitstop-checklist base-margin-left"
		*ngIf="currentPitstop && currentPitstop?.pitstopActions?.length">
		<div class="divider"></div>
		<div class="pitstop-checklist__title cx-text-secondary">
			<div class="pitstop-checklist__flag"
				inlineSVG="assets/img/solutions/icon-checkerflag.svg"></div>
			<div class="text-uppercase half-padding-left" [innerText]="'_CheckList_' | i18n"></div>
		</div>
		<p class="text-small no-margin-top half-margin-bottom cx-text-light-gray"
			[innerText]="'_ChecklistDesc_' | i18n"></p>
		<div *ngFor="let action of currentPitActionsWithStatus" class="form-group form-group select" data-auto-id="pitstopAction">
			<div class="actionname flex-center-vertical qtr-padding" [ngClass]="{selected: action.selected}">
				<div class="half-margin-right flex-center-vertical">
					<label class="checkbox"
						[ngClass]="{'disabled': currentWorkingPitstop !== currentPitstop.name || !action.action.manualCheckAllowed }"
						data-auto-id="pitstopCheckboxLabel">
						<input data-auto-id="pitstopCheckbox"
							type="checkbox"
							[(ngModel)]="action.action.isComplete"
							(change)="completeAction(action.action)"
							[checked]="action.action.isComplete">
						<span class="checkbox__input"
							data-auto-id="pitstopCheckboxSpan"
							[ngClass]="{'checkbox-complete': action.action.isComplete}">
						</span>
					</label>
				</div>
				<div class="actionname__text cx-text-secondary"
					[class.actionname__text--complete]="action?.action?.isComplete">
						<div class="checkbox__label text-medium toggle"
							attr.data-auto-id="actionLink-{{action.action.name}}"
							data-toggle="tooltip" data-placement="bottom" title="{{action?.action?.description}}"
							(click)="selectAction(action)"
							[innerText]="action?.action?.name">
						</div>
				</div>
			</div>
		</div>
		<div *ngIf="hasSelectedAction()">
			<div class="divider divider--compressed"></div>
			<div class="base-margin-top base-margin-bottom toggle pitstop-checklist__reset-filter"
				id="ResetFilter"
				[innerText]="'_ResetFilter_' | i18n"
				(click)="resetFilter()"
				data-auto-id="ResetFilter">
			</div>
		</div>
		<div class="panel messagepanel--open half-margin-left"
			id="AllCompletionPopup"
			*ngIf="showCompletionPopup"
			data-auto-id="AllCompletionPopup">
			<div class="row qtr-margin-top qtr-margin-left qtr-margin-right">
				<div class="col-md-1">
					<div class="pitstop-checklist__flag"
						inlineSVG="assets/img/solutions/icon-checkerflag.svg"
						data-auto-id="AllCompletionPopup-Flag"></div>
				</div>
				<div class="col-md-10 text-bold" [innerText]="'_NiceJob_' | i18n" data-auto-id="AllCompletionPopup-Title"></div>
				<div class="col-md-1">
					<a class="no-link closebtn"
						(click)="showCompletionPopup = false"
						data-auto-id="AllCompletionPopup-Close">
						<span class="icon-close icon-small"></span>
					</a>
				</div>
			</div>
			<div class="message">
				<span [innerHTML]="'_NextCruise_' | i18n:currentViewingPitstop" data-auto-id="AllCompletionPopup-Message"></span>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #atxPanel let-data="data">
	<div class="cx-lifecycle-card--subtitle base-margin-bottom" [innerText]="'_TrainingWebinars_' | i18n"></div>
	<ng-container *ngIf="data.sessions.length === 0">
		<i class="cx-lifecycle-card--subtitle" [innerText]="'_NoSessionsPublished_' | i18n" data-auto-id="NoSessionsPublished-Message"></i>
	</ng-container>
	<ng-container *ngIf="data.sessions.length > 0 && data.recommended">
		<ng-container *ngTemplateOutlet="recommended; context: {
				template: recommendedATX,
				hoverTemplate: atxHover,
				title: data.recommended.title,
				description: data.recommended.description,
				src: data.recommended.imageURL || getDefaultAtxImg(data.recommended),
				item: data.sessions[0],
				autoid: 'recommendedATX'
			}">
		</ng-container>
	</ng-container>
	<ng-container *ngIf="data.sessions.length > 1">
		<ng-container *ngTemplateOutlet="more; context: { data: data.sessions, autoid: 'moreATXList' }"></ng-container>
	</ng-container>
	<ng-container *ngIf="atxMoreClicked && moreATXSelected">
		<ng-container *ngTemplateOutlet="atxMoreClick; context: { data: moreATXSelected }">
		</ng-container>
	</ng-container>
	<ng-container *ngIf="atxScheduleCardOpened && moreATXSelected">
		<ng-container *ngTemplateOutlet="recommendedATXSchedule; context: { data: moreATXSelected }">
		</ng-container>
	</ng-container>
</ng-template>

<ng-template #recommended
	let-src="src"
	let-title="title"
	let-description="description"
	let-template="template"
	let-autoid="autoid"
	let-item="item"
	let-hoverTemplate="hoverTemplate">
	<div class="recommended-item cx-lifecycle-card--recommended-item panel panel--bordered no-padding-top no-padding-left no-padding-right" attr.data-auto-id="{{ autoid }}">
		<ng-container *ngTemplateOutlet="template; context: {
			item: item,
			autoid: autoid,
			title: title,
			src: src,
			hoverTemplate: hoverTemplate,
			description: description
		}">
		</ng-container>
	</div>
</ng-template>

<ng-template #learningHover let-title="title" let-item="item" let-description="description" let-autoid="autoid">
	<div class="panel hover-panel hover-panel--{{ autoid }}" attr.data-auto-id="{{ autoid }}-HoverModal">
		<div class="popover-tail"></div>
		<div class="flex flex-column">
			<h6 class="learning-popover__title title-line-clamp" [innerText]="title" attr.data-auto-id="{{ autoid }}-HoverModal-Title"></h6>
			<div class="divider divider--compressed"></div>
			<div *ngIf="item && item.fixedRating" class="half-margin-bottom">
				<cui-rating [rating]="item.fixedRating" [alt]="true" [noClick]="true" size="small" attr.data-auto-id="{{ autoid }}-HoverModal-Rating"></cui-rating>
			</div>
			<div class="line-clamp learning-popover__description" [innerText]="description" attr.data-auto-id="{{ autoid }}-HoverModal-Description"></div>
			<div *ngIf="item && item.duration" class="learning-popover__footer" attr.data-auto-id="{{ autoid }}-HoverModal-Duration">
				<span class="icon--svg" inlineSVG="assets/icons/icon-matrics-timer.svg" attr.data-auto-id="{{ autoid }}-HoverModal-DurationClock"></span>
				<span class="learning-popover__footer__text" [innerText]="item.duration"></span>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #atxHover let-title="title" let-description="description" let-autoid="autoid" let-item="item">
	<div class="panel hover-panel hover-panel--{{ autoid }}" *ngIf="!atxScheduleCardOpened && !atxMoreClicked" attr.data-auto-id="{{ autoid }}-HoverModal">
		<div class="popover-tail popover-tail--left"></div>
		<div class="flex flex-column max-height">
			<div class="icon-bookmark ribbon--hover"
				[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
				(click)="updateBookmark(item, 'ATX')"
				attr.data-auto-id="{{ autoid }}-HoverModal-BookmarkRibbon">
			</div>
			<h6 class="atx-popover__title title-line-clamp" [innerText]="title" attr.data-auto-id="{{ autoid }}-HoverModal-Title"></h6>
			<div class="text-muted text-small " [innerText]="getProviderName(item)" attr.data-auto-id="{{ autoid }}-HoverModal-Provider"></div>
			<div class="divider divider--compressed"></div>
			<div class="atx-popover__description line-clamp" [innerText]="description" attr.data-auto-id="{{ autoid }}-HoverModal-Description"></div>

		</div>
	</div>
</ng-template>

<ng-template #atxMoreClick let-data="data">
	<div class="panel atxMorepanel--open"
		#atxMoreClick [ngClass]="getATXMorePanel(atxMoreClick)"
		*ngIf="atxMoreClicked" data-auto-id="atxMoreClickModal">
		<div class="popover-tail popover-tail--left"></div>
		<div class="flex flex-column max-height">
			<div class="icon-bookmark"
				[ngClass]="data.bookmark ? 'ribbon__blue__atx' : 'ribbon__white__atx'"
				(click)="updateBookmark(data, 'ATX')"
				data-auto-id="ATXMoreRibbon">
			</div>
			<div class="text-left title-line-clamp">
				<h6 class="atx-more-popover__title" [innerText]="data.title" data-auto-id="atxMoreClickModal-Title"></h6>
			</div>
			<div class="closebtn-container">
				<a class="no-link closebtn"
					data-auto-id = "closeMoreATXClickModal"
					(click)="atxMoreClicked = false; moreATXSelected = ''">
					<span class="icon-close"></span>
				</a>
			</div>
			<div
				class="text-muted text-small"
				[innerText]="getProviderName(data)"
				*ngIf="getProviderName(data)"
				data-auto-id="atxMoreClickModal-Provider"
			></div>
			<div class="divider divider--compressed"></div>
			<div class="line-clamp atx-more-popover__description" [innerText]="data.description" data-auto-id="atxMoreClickModal-Description"></div>
			<div class="atx-more-popover__button-container">
				<ng-container *ngTemplateOutlet="data?.sessions?.length > 0 ?
					enabledViewSessionsButton : disabledViewSessionsButton; context: {
						type: 'moreView'
					}">
				</ng-container>
				<button class="cx-btn cx-btn--small cx-btn--primary text-uppercase qtr-margin-left"
					attr.data-auto-id = "MoreATXWatchNow-{{ data.recordingURL }}"
					[ngClass]="data?.recordingURL ? null : 'disabled'"
					(click)="crossLaunch(data.recordingURL)"
					[innerText]="'_WatchNow_' | i18n">
				</button>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #accHover let-autoid="autoid" let-title="title" let-description="description" let-item="item">
	<div class="panel hover-panel hover-panel--{{ autoid }}" attr.data-auto-id="{{ autoid }}-HoverModal">
		<div class="popover-tail"></div>
		<div class="flex flex-column max-height">
			<div class="icon-bookmark ribbon--hover"
				(click)="updateBookmark(item, 'ACC')"
				[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
				attr.data-auto-id="{{ autoid }}-HoverModal-BookmarkRibbon">
			</div>
			<h6 class="acc-popover__title title-line-clamp" [innerText]="title" attr.data-auto-id="{{ autoid }}-HoverModal-Title"></h6>
			<div class="text-muted text-small" [innerText]="getProviderName(item)" attr.data-auto-id="{{ autoid }}-HoverModal-Provider"></div>
			<div class="divider divider--compressed"></div>
			<div class="line-clamp acc-popover__description no-margin" [innerText]="description" attr.data-auto-id="{{ autoid }}-HoverModal-Description"></div>

			<div *ngIf="item && item.duration" class="learning-duration text-right text-muted flex-fluid half-margin-left" attr.data-auto-id="{{ autoid }}-HoverModal-Duration">
				<span class="icon-clock icon-small qtr-margin-right" attr.data-auto-id="{{ autoid }}-HoverModal-DurationClock"></span>
				<span [innerText]="item.duration"></span>
			</div>
			<div *ngIf= "item.status.toLowerCase()==='recommended'">
				<ng-container *ngTemplateOutlet="!notCurrentPitstop ? enabledAccButton : disabledAccButton; context: {
					accId: item.accId,
					title: item.title,
					accProviderId: item.providerInfo?.id,
					accProviderName: item.providerInfo?.name,
					dataAutoId: 'Request1on1ACCButton'
					}">
				</ng-container>
			</div>
			<div class="text-left acc-popover__footer" *ngIf="autoid==='moreACCList' && item.status.toLowerCase()==='in-progress'" attr.data-auto-id="{{ autoid }}-HoverModal-In-Progress">
				<span class="icon-clock qtr-margin-right" attr.data-auto-id="{{ autoid }}-In-Progress-Icon"></span>
				<span class="acc-popover__footer__text" [innerText]="'_SessionInProgress_' | i18n" attr.data-auto-id="{{ autoid }}-In-Progress"></span>
			</div>
			<div class="text-left acc-popover__footer" *ngIf="autoid==='moreACCList' && item.status.toLowerCase()==='requested'" attr.data-auto-id="{{ autoid }}-HoverModal-Requested">
				<span class="icon-check-outline qtr-margin-right" attr.data-auto-id="{{ autoid }}-HoverModal-Requested-Icon"></span>
				<span class="acc-popover__footer__text" [innerText]="'_Requested_' | i18n" attr.data-auto-id="{{ autoid }}-In-Progress"></span>
			</div>
			<div class="text-left text-success acc-popover__footer" *ngIf="autoid==='moreACCList' && item.status.toLowerCase()==='completed'" attr.data-auto-id="{{ autoid }}-HoverModal-CompletedMessage">
				<span class="acc-popover__footer__text" [innerText]="'_Completed_' | i18n"></span>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #recommendedATX
	let-item="item"
	let-autoid="autoid"
	let-src="src"
	let-title="title"
	let-description="description"
	let-hoverTemplate="hoverTemplate"
>
	<div class="max-width flex provider_image">
		<div class="icon-bookmark toggle"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			(click)="updateBookmark(item, 'ATX')"
			data-auto-id="SBCardRibbon">
		</div>
		<img alt="'_Placeholder_' | i18n"
			[src]="src"
			attr.data-auto-id="{{ autoid }}-Image">
		<ng-container *ngIf="item.providerInfo">
			<!-- Keep the following line for now since we don't have partner Logo yet -->
			<!-- <span *ngIf="item.providerInfo?.logoURL" class="icon-check icon-medium half-padding-right"></span> -->
			<img *ngIf="item.providerInfo?.logoURL" class="table-img-width provider_icon" alt="'_Placeholder_' | i18n"
				[src]="item.providerInfo?.logoURL" attr.data-auto-id="{{ autoid }}-ProviderLogo">
			<span *ngIf="!item.providerInfo?.logoURL && item.providerInfo?.name" class="text-bold text-medium provider_icon"
				[innerText]="item.providerInfo?.name" attr.data-auto-id="{{ autoid }}-ProviderText"></span>
		</ng-container>
	</div>
	<div class="cx-lifecycle-card cx-lifecycle-card--recommended">
		<div>
			<span class="icon-flagged" attr.data-auto-id="{{ autoid }}-Flag"></span>
			<span class="text-small" [innerText]="'_Recommended_' | i18n"></span>
		</div>
		<p class="text-capitalize cx-lifecycle-card__title"
			attr.data-auto-id="{{ autoid }}-Title">
			{{ title }}
			<ng-container *ngTemplateOutlet="hoverTemplate; context: {
				title: title,
				description: description,
				item: item,
				autoid: autoid
			}">
			</ng-container>
		</p>
		<ng-container *ngIf="item.status === 'scheduled' && scheduledAtxMap[item.atxId]">
			<div class="cx-lifecycle-card--scheduled row half-padding-bottom">
				<div class="col-md-1 icon-calendar text-primary" attr.data-auto-id="{{ autoid }}-Calendar"></div>
				<div class="col-md-11 no-padding-left">
					<div class="text-bold" [innerText]="scheduledAtxMap[item.atxId].sessionStartDate | date:'EEE MMM d, y h:mm a z'" attr.data-auto-id="{{ autoid }}-Date"></div>
					<div [innerText]="'_InstructorX_' | i18n:scheduledAtxMap[item.atxId].presenterName" attr.data-auto-id="{{ autoid }}-Presenter"></div>
				</div>
			</div>
		</ng-container>
		<div class="force-flex">
			<ng-container *ngTemplateOutlet="item?.sessions?.length > 0 ?
				enabledViewSessionsButton : disabledViewSessionsButton; context: {
				type: 'recommendedView'
			}">
			</ng-container>
			<button class="cx-btn cx-btn--small cx-btn--primary text-uppercase"
				data-auto-id = "recommendedATXWatchButton"
				[ngClass]="componentData.atx?.recommended?.recordingURL ? null : 'disabled'"
				(click)="crossLaunch(componentData.atx.recommended.recordingURL)"
				[innerText]="'_WatchNow_' | i18n">
			</button>
			<ng-container *ngIf="componentData?.atx?.recommended && recommendedAtxScheduleCardOpened">
				<ng-container *ngTemplateOutlet="recommendedATXSchedule; context: { data: componentData.atx.recommended }"></ng-container>
			</ng-container>
		</div>
	</div>
</ng-template>

<ng-template #recommendedACC
	let-item="item"
	let-autoid="autoid"
	let-src="src"
	let-title="title"
	let-description="description"
	let-hoverTemplate="hoverTemplate"
>
	<div class="max-width flex provider_image">
		<div class="icon-bookmark"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			(click)="updateBookmark(item, 'ACC')"
			data-auto-id="SBCardRibbon">
		</div>
		<ng-container *ngIf="item.providerInfo">
			<!-- Keep the following line for now since we don't have partner Logo yet -->
			<!-- <span *ngIf="item.providerInfo?.logoURL" class="icon-check icon-medium half-padding-right"></span> -->
			<img *ngIf="item.providerInfo?.logoURL" class="table-img-width provider_icon" alt="'_Placeholder_' | i18n"
				[src]="item.providerInfo?.logoURL" attr.data-auto-id="{{ autoid }}-ProviderLogo">
			<span *ngIf="!item.providerInfo?.logoURL && item.providerInfo?.name" class="text-bold text-medium provider_icon"
				[innerText]="item.providerInfo?.name" attr.data-auto-id="{{ autoid }}-ProviderText"></span>
		</ng-container>
		<img class="max-width" alt="'_Placeholder_' | i18n" [src]="src" attr.data-auto-id="{{ autoid }}-Image">
	</div>
	<div class="cx-lifecycle-card cx-lifecycle-card--recommended">
		<div class="qtr-padding-bottom">
			<span class="icon-flagged" attr.data-auto-id="{{ autoid }}-Flag"></span>
			<span class="text-small" [innerText]="'_Recommended_' | i18n"></span>
		</div>
		<p
			class="cx-lifecycle-card__title"
			attr.data-auto-id="{{ autoid }}-Title">
			{{ item.title }}
			<ng-container *ngTemplateOutlet="hoverTemplate; context: {
				title: title,
				description: description,
				item: item,
				autoid: autoid
			}">
			</ng-container>
		</p>
		<ng-container *ngIf="item.status === 'recommended'">
			<ng-container *ngTemplateOutlet="!notCurrentPitstop ? enabledAccButton : disabledAccButton; context: {
				accId: item.accId,
				title: item.title,
				accProviderId: item.providerInfo?.id,
				accProviderName: item.providerInfo?.name,
				dataAutoId: 'Request1on1ACCButton'
				}">
			</ng-container>
		</ng-container>
		<ng-container *ngIf="item.status === 'in-progress'">
			<div>
				<span class="icon-clock" attr.data-auto-id="{{ autoid }}-In-Progress-Icon"></span>
				<span [innerText]="'_SessionInProgress_' | i18n" attr.data-auto-id="{{ autoid }}-In-Progress"></span>
			</div>
		</ng-container>
		<ng-container *ngIf="item.status === 'requested'">
			<div>
				<span class="icon-check-outline" attr.data-auto-id="{{ autoid }}-Requested-Icon"></span>
				<span [innerText]="'_Requested_' | i18n" attr.data-auto-id="{{ autoid }}-Requested"></span>
			</div>
		</ng-container>
		<ng-container *ngIf="item.status === 'completed'">
			<div>
				<span class="icon-certified" attr.data-auto-id="{{ autoid }}-Checkmark"></span>
				<span [innerText]="'_Completed_' | i18n" attr.data-auto-id="{{ autoid }}-Completed"></span>
			</div>
		</ng-container>
	</div>
</ng-template>

<ng-template #recommendedATXSchedule let-data="data">
	<div class="panel"
		*ngIf="atxScheduleCardOpened || recommendedAtxScheduleCardOpened"
		#viewAtxSessions
		id="viewAtxPanel"
		[ngClass]="getPanel(viewAtxSessions)" data-auto-id="atxScheduleCard">
		<div class="popover-tail"></div>
		<div class="atx-scheduler-one-line">
			<div id="atxtitle" class="text-left title-line-clamp">
				<h5 [innerText]="data.title" data-auto-id="atxScheduleCard-Title"></h5>
			</div>
			<div>
				<a class="no-link closebtn"
					(click)="closeViewSessions()"
					data-auto-id="AtxScheduleCardClose">
					<span class="icon-close icon-small"></span>
				</a>
			</div>
		</div>
		<div class="text-muted text-small  text-left" [innerText]="getProviderName(data)" data-auto-id="atxScheduleCard-Provider">
		</div>
		<div class="divider divider--compressed"></div>
		<div class="atx-scheduler-description">
			<div class="line-clamp atx-more-popover__description text-left" [innerText]="data.description"
				data-auto-id="atxMoreClickModal-Description"></div>
			<ng-container *ngIf="data.status === 'scheduled' && scheduledAtxMap[data.atxId]">
				<div class="cx-lifecycle-card--scheduled qtr-padding-bottom text-left">
					<span class="icon-calendar" attr.data-auto-id="{{ autoid }}-Calendar"></span>
					<span class="qtr-padding-left">
						<span class="text-bold"
							[innerText]="scheduledAtxMap[data.atxId].sessionStartDate | date:'EEE MMM d, y h:mm a z'"
							attr.data-auto-id="{{ autoid }}-Date"></span>
						<span class="qtr-padding-left"
							[innerText]="'_InstructorX_' | i18n:scheduledAtxMap[data.atxId].presenterName"
							attr.data-auto-id="{{ autoid }}-Presenter"></span>
					</span>
				</div>
			</ng-container>
		</div>
		<div class="atx-scheduler-one-line">
			<div>
				<h6 class="text-left"
					[innerText]="'_ChooseSession_' | i18n">
				</h6>
			</div>
			<div>
				<div>
					<span class="icon-clock"></span>
					<span class="text-xsmall" innerText="{{ data.duration*1000 | date:'H:mm:ss':'UTC' }}"></span>
				</div>
			</div>
		</div>
		<div class="session-table responsive-table">
			<table class="table table--nostripes table--selectable">
				<thead>
					<tr>
						<td [innerText]="'_Date_' | i18n"></td>
						<td class="table__head-spacer"></td>
						<td [innerText]="'_Presenter_' | i18n"></td>
					</tr>
				</thead>
				<tbody>
					<tr attr.data-auto-id="SelectSession-{{ session.sessionId }}"
						*ngFor="let session of data.sessions"
						(click)="selectSession(session)"
						[ngClass]="{
							'active': sessionSelected?.sessionStartDate === session.sessionStartDate,
							'scheduled': session.scheduled
						}">
						<td class="text-size-14 icon">
							<span class="icon-check" *ngIf="session.scheduled"></span>
						</td>
						<td class="no-padding-left"
							innerText="{{session.sessionStartDate | date:'EEE MMM d, y'}}"></td>
						<td innerText="{{session.sessionStartDate | date:'shortTime'}}"></td>
						<td [innerText]="session.presenterName"></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="atx-scheduler__footer">
			<div *ngIf="!isStartTimeWithin24Hrs(scheduledAtxMap[data.atxId])">
				<button id="AtxScheduleCardRegisterButton" class="pull-left btn btn--primary"
					data-auto-id="AtxScheduleCardRegisterButton" [ngClass]="getAtxRegisterButton(data)"
					(click)="registerATXSession(data, sessionSelected)" [innerText]="'_Register_' | i18n">
				</button>
				<div class="half-padding-left pull-left">
					<button class="cx-btn cx-btn--primary text-danger" *ngIf="sessionSelected && sessionSelected.scheduled"
						[innerText]="'_Cancel_' | i18n" (click)="cancelATXSession(data)" data-auto-id="AtxScheduleCardCancelButton">
					</button>
				</div>
			</div>
			<div class="text-italic" *ngIf="isStartTimeWithin24Hrs(scheduledAtxMap[data.atxId]) && data.status === 'scheduled'"
				[innerText]="'_UnableCancel_' | i18n" data-auto-id="AtxScheduleCard-UnableCancel"></div>
		</div>
	</div>
</ng-template>

<ng-template #accPanel let-data="data">
	<div class="cx-lifecycle-card--subtitle base-margin-bottom" [innerText]="'_1on1Coaching_' | i18n"></div>
	<ng-container *ngIf="data.sessions.length === 0">
		<i class="cx-lifecycle-card--subtitle" [innerText]="'_NoSessionsPublished_' | i18n" data-auto-id="NoSessionsPublished-Message"></i>
	</ng-container>
	<ng-container *ngIf="data.sessions[0]">
		<ng-container *ngTemplateOutlet="recommended; context: {
				template: recommendedACC,
				hoverTemplate: accHover,
				title: data.sessions[0].title,
				description: data.sessions[0].description,
				item: data.sessions[0],
				src: data.sessions[0].url || getDefaultAccImg(data.sessions[0]),
				autoid: 'recommendedACC'
			}">
		</ng-container>
	</ng-container>
	<ng-container *ngIf="data.sessions.length>1">
		<ng-container *ngTemplateOutlet="more; context: { data: data.sessions, autoid: 'moreACCList' }"></ng-container>
	</ng-container>
</ng-template>

<ng-template #more let-data="data" let-autoid="autoid">
	<div class="base-padding-top half-padding-bottom">
		<span class="cx-lifecycle-card--more text-uppercase" [innerText]="'_More_' | i18n" attr.data-auto-id="{{ autoid }}-Header"></span>
	</div>
	<div [attr.data-auto-id]="autoid">
		<div class="cx-lifecycle-card__more-links" #moreList (mouseenter)="getMoreCoordinates(moreList, autoid)" *ngFor="let item of data | slice:1:3">
			<div class="row" attr.data-auto-id="{{ autoid }}-item">
				<div class="col-md-11">
					<div id="{{ autoid }}-item" class="panel small-panel">
						<div class="text-blue cx-lifecycle-card__more-link" 
							attr.data-auto-id="{{ autoid }}-Click"
							(click)="atxMoreSelect(item, autoid, moreList)"
						>
							{{ item.title }}
							<p class="cx-lifecycle-card__by-text text-muted" [innerText]="getProviderName(item)" attr.data-auto-id="{{ autoid }}-Provider"></p>
							<ng-container *ngIf="autoid==='moreACCList'">
								<ng-container *ngTemplateOutlet="accHover; context: {
									title: item.title,
									description: item.description,
									item: item,
									autoid: 'moreACCList'
								}">
								</ng-container>
							</ng-container>
							<ng-container *ngIf="autoid==='moreATXList'">
								<ng-container *ngTemplateOutlet="atxHover; context: {
									title: item.title,
									description: item.description,
									item: item,
									autoid: 'moreATXList'
								}">
								</ng-container>
							</ng-container>
						</div>

					</div>
				</div>
				<div
					*ngIf="item.status === 'scheduled'"
					class="col-md-1 icon-calendar text-primary"
				></div>
				<div class="col-md-1 icon-certified" *ngIf="item.status === 'completed'" attr.data-auto-id="{{ autoid }}-Checkmark"></div>
				<div class="col-md-1 icon-clock" *ngIf="item.status === 'in-progress'" attr.data-auto-id="{{ autoid }}-ProgressBar"></div>
				<div class="col-md-1 icon-check-outline" *ngIf="item.status === 'requested'"  attr.data-auto-id="{{ autoid }}-RequestedBar"></div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #successBytesPanel let-data="data">
	<div class="cx-lifecycle-card--subtitle base-margin-bottom" [innerText]="'_SuccessBytesSubtitle_' | i18n"></div>
	<div *ngIf="data.success?.length" data-auto-id="SuccessBytesPanel-SuccessPathsBlock">
		<ng-container *ngTemplateOutlet="successBlock; context: {
				title: '_SuccessTips_',
				data: componentData.learning.success }">
		</ng-container>
		<div class="divider"></div>
	</div>
	<div data-auto-id="SuccessBytesPanel-ProductGuidesBlock">
		<ng-container *ngTemplateOutlet="productGuidesBlock; context: {
				title: '_ProductGuides_' }">
		</ng-container>
	</div>
</ng-template>

<ng-template #learnPanel let-data="data">
	<div *ngIf="data.elearning" data-auto-id="LearnPanel-ELearningBlock">
		<ng-container *ngTemplateOutlet="learningBlock; context:
			{ iconUrl: '/assets/icons/lifecycle/icon-e-learning.svg',
				title: '_ELearning_',
				data: componentData.learning.elearning,
				link: componentData.learning.elearningUrl + componentData.params.usecase }">
		</ng-container>
	</div>

	<div *ngIf="data.certifications && (cxLevel == 2 || cxLevel == 3)" data-auto-id="LearnPanel-CertificationsBlock">
		<div class="divider"></div>
		<ng-container *ngTemplateOutlet="learningBlock; context:
			{ iconUrl: '/assets/icons/lifecycle/icon-certificate.svg',
				title: '_Certifications_',
				data: componentData.learning.certifications,
				link: componentData.learning.certificationsUrl } ">
		</ng-container>
	</div>

	<div *ngIf="data.remotepracticelabs && (cxLevel == 2 || cxLevel == 3)" data-auto-id="LearnPanel-RemotePracticeLabsBlock">
		<div class="divider" *ngIf="data.remotepracticelabs"></div>
		<ng-container *ngTemplateOutlet="learningBlock; context:
			{ iconUrl: '/assets/icons/lifecycle/icon-lab.svg',
				title: '_RemotePracticeLabs_',
				data: componentData.learning.remotepracticelabs,
				link: componentData.learning.remotepracticelabsUrl } ">
		</ng-container>
	</div>
</ng-template>

<ng-template #learningBlock let-title="title" let-data="data" let-icon="icon" let-link="link" let-iconUrl="iconUrl">
	<div class="cx-lifecycle-card--subheader">
		<span *ngIf="icon" class="icon-{{ icon }}"></span>
		<div *ngIf="iconUrl" class="subheader-icon" [inlineSVG]="iconUrl"></div>
		<span class="text-uppercase" [innerText]="title | i18n"></span>
		<div class="view-all pull-right toggle"
			[ngClass]="{'hide': data?.length === 0}"
			*ngIf="data">
			<a class="no-link show"
				(click)="crossLaunch(link)"
				attr.data-auto-id="{{ title }}-ViewAll"
				attr.data-auto-href="{{ link }}">
				<span class="text-med" [innerText]="'_ViewAll_' | i18n"></span>
				<span class="icon-play"></span>
			</a>
		</div>
		<div class="cx-lifecycle-card--subtitle base-margin-top" *ngIf="data?.length === 0">
			<i [innerText]="'_NoContentAvailable_' | i18n" data-auto-id="NoContentAvailable-Message"></i>
		</div>
	</div>
	<div>
		<div class="cx-lifecycle-card--link" *ngFor="let item of data | slice:0:3">
			<div class="recommended-elearning-item panel small-panel" attr.data-auto-id="{{ title }}-Item">
				<div class="row">
					<div class="col-md-11">
						<a class="no-link" (click)="crossLaunch(item.url)" attr.data-auto-id="{{ title }} -item.title" attr.data-auto-href="{{ item.url }}">
							<span [innerText]="item.title"></span>
						</a>
					</div>
					<div class="col-md-1 icon-certified" *ngIf="item.percentagecompleted === 100" attr.data-auto-id="{{ title }}-completedIcon"></div>
					<div class="col-md-1 progressbar qtr-margin-top qtr-margin-bottom learning-progress-col" [attr.data-percentage]="item.percentagecompleted" *ngIf="item.percentagecompleted && item.percentagecompleted != 100" attr.data-auto-id="{{ title }}-progressBar">
						<div class="progressbar__fill learning-progressfill-col"></div>
					</div>
					<ng-container *ngTemplateOutlet="learningHover; context: {
						title: item.title,
						description: item.description,
						item: item,
						autoid: 'recommendedElearning'
					}">
					</ng-container>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #successBlock let-title="title" let-data="data">
	<div class="successbytes-item cx-lifecycle-card--link panel small-panel" data-auto-id="successbytes-item" *ngFor="let item of data | slice:0:3">
		<a class="toggle" (click)="crossLaunch(item.url)" [innerText]="item.title" attr.data-auto-id="{{ title }} -item.title" attr.data-auto-href="{{ item.url }}"></a>
		<ng-container *ngTemplateOutlet="successBytesHoverBlock; context: {
			item: item,
			autoid: 'successbytes'
		}">
		</ng-container>
	</div>
</ng-template>

<ng-template #successBytesHoverBlock let-item="item" let-autoid="autoid">
		<div class="panel hover-panel hover-panel--{{ autoid }}" attr.data-auto-id="{{ autoid }}-HoverModal">
			<div class="popover-tail"></div>
			<div class="flex flex-column max-height">
				<div class="icon-bookmark ribbon--hover"
					(click)="updateBookmark(item, 'SB')"
					[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
					attr.data-auto-id="{{ autoid }}-HoverModal-BookmarkRibbon">
				</div>
				<h6 class="sb-popover__title title-line-clamp" [innerText]="item.title" attr.data-auto-id="{{ autoid }}-HoverModal-Title"></h6>
				<div class="divider divider--compressed"></div>
				<div class="sb-desc-line-clamp sb-popover__description" [innerText]="item.description" attr.data-auto-id="{{ autoid }}-HoverModal-Description"></div>
				<div class="sb-popover__footer">
					<div>
						<a class="no-link successbytes-type-link" data-auto-id="successlink" target="_blank" rel="noopener noreferrer" [href]="item.url">
							<ng-container *ngTemplateOutlet="itemTypeIcons; context: {
								item: item,
								autoid: 'SuccessBytesHoverBlock'
							}">
							</ng-container>
						</a>
					</div>
					<div *ngIf="item && item.duration" class="learning-duration" attr.data-auto-id="{{ autoid }}-HoverModal-Duration">
						<span class="icon--svg" inlineSVG="assets/icons/icon-matrics-timer.svg" attr.data-auto-id="{{ autoid }}-HoverModal-DurationClock"></span>
						<span [innerText]="item.duration" class="sb-popover__footer__text"></span>
					</div>
				</div>
			</div>
		</div>
</ng-template>

<ng-template #productGuidesBlock let-title="title">
	<div class="cx-lifecycle-card--link">
		<span class="toggle"
			[innerText]="title | i18n"
			(click)="showModal(title)"
			attr.data-auto-id="ShowModalPanel-{{ title }}"></span>
	</div>
</ng-template>

<ng-template #viewAllModal let-data="data" let-type="type">
	<div id="viewAllModal" class="flex lifecycle-viewall-modal modal__content no-padding" data-auto-id="ViewAllModal">
		<span (click)="closeModal()" data-auto-id="ViewAllCloseModal"
			class="icon-close icon-small toggle cx-text-secondary"></span>
		<div class="modal__header acc__header no-margin-bottom">
			<div class="row base-margin-top">
				<div class="col-md-11 half-margin-top">
					<div class="modal__header__title cx-text-default text-left qtr-margin-bottom"
						[innerText]="getTitle(type)"
						data-auto-id="ViewAllModal-Title"></div>
					<div class="modal__header__description text-left cx-text-light-gray"
						[innerText]="getSubtitle(type)"
						data-auto-id="ViewAllModal-Subtitle"></div>
				</div>
				<div class="col-md-1 half-margin-top">
				</div>
			</div>
		</div>
		<div class="divider no-margin-right qtr-margin-top"></div>
		<div class="modal__body base-padding-top base-padding-bottom">
			<ng-container [ngSwitch]="type">
				<ng-container *ngSwitchCase="'ACC'">
					<div class="flex-center-vertical">
						<div class="text-left modal__body__topics cx-text-default"
							[innerText]="'_TopicsAvailableSolution_' | i18n:selectedACC?.length || 0:componentData.params.solution:componentData.params.usecase"
							data-auto-id="ViewAllModal-TopicsAvailable">
						</div>
						<ng-container *ngIf="accview === 'grid'">
							<multiselect [name]="'_Status_' | i18n"
								[items]="accStatusOptions"
								[defaultValues]="accStatusFilter"
								(changed)="statusMultiFilter($event, 'ACC')"
								data-auto-id="ViewAllModal-StatusMultiFilter">
							</multiselect>
						</ng-container>
						<div class="base-margin-left" *ngIf="accPartnerList">
							<multiselect [name]="'_ContentProvider_' | i18n"
								[items]="accPartnerList"
								nameKey="companyName"
								valueKey="companyId"
								[defaultValues]="selectedPartnerFilterForACC"
								(changed)="partnerMultiFilter($event, 'ACC')"
								data-auto-id="ViewAllModal-PartnerMultiFilter">
							</multiselect>
						</div>
						<div class="text-right modal__body__view-toggle">
							<div class="btn-group btn-group--square">
								<button class="btn btn--small qtr-padding" data-auto-id="acc-table-view-btn"
									[ngClass]="{'selected': accview ==='list' }" (click)="selectView('list', type)">
									<div inlineSVG="assets/icons/nav-tableline-off.svg"></div>
								</button>
								<button class="btn btn--small qtr-padding" data-auto-id="acc-card-view-btn"
									[ngClass]="{'selected': accview === 'grid' }" (click)="selectView('grid', type)">
									<div inlineSVG="assets/icons/nav-card-off.svg"></div>
								</button>
							</div>
						</div>
					</div>
					<div class="modal-content-container">
						<ng-container *ngTemplateOutlet="cardViewTemplate; context: { type: type, view: this.accview }"></ng-container>
						<ng-container *ngTemplateOutlet="listViewTemplate; context: { type: type, view: this.accview }"></ng-container>
					</div>
				</ng-container>
				<ng-container *ngSwitchCase="'ATX'">
					<div class="flex-center-vertical">
						<div class="text-left modal__body__topics cx-text-default"
							[innerText]="'_TopicsAvailableSolution_' | i18n:selectedATX?.length || 0:componentData.params.solution:componentData.params.usecase" data-auto-id="ATXTopicsAvailable">
						</div>
						<div class="base-margin-right" *ngIf="atxview === 'grid'">
							<ng-container class="modal__body__filter">
								<multiselect [name]="'_Status_' | i18n"
										[items]="atxStatusOptions"
										[defaultValues]="atxStatusFilter"
										(changed)="statusMultiFilter($event, 'ATX')"
										data-auto-id="ViewAllModal-StatusMultiFilter">
								</multiselect>
							</ng-container>
						</div>
						<div class="base-margin-left"  *ngIf="partnerList">
							<ng-container class="modal__body__filter">
								<multiselect [name]="'_ContentProvider_' | i18n"
										[items]="partnerList"
										nameKey="companyName"
										valueKey="companyId"
										[defaultValues]="selectedPartnerFilterForATX"
										(changed)="partnerMultiFilter($event, 'ATX')"
										data-auto-id="ViewAllModal-PartnerMultiFilter">
								</multiselect>
							</ng-container>
						</div>
						<div class="text-right modal__body__view-toggle">
							<div class="btn-group btn-group--square">
								<button class="btn btn--small qtr-padding" data-auto-id="atx-table-view-btn"
									[ngClass]="{'selected': atxview ==='list' }" (click)="selectView('list', type); atxScheduleCardOpened = false; selectSession(); eventXCoordinates = 0; eventYCoordinates = 0">
									<div inlineSVG="assets/icons/nav-tableline-off.svg"></div>
								</button>
								<button class="btn btn--small qtr-padding" data-auto-id="atx-card-view-btn"
									[ngClass]="{'selected': atxview === 'grid' }" (click)="selectView('grid', type); atxScheduleCardOpened = false; selectSession(); eventXCoordinates = 0; eventYCoordinates = 0">
									<div inlineSVG="assets/icons/nav-card-off.svg"></div>
								</button>
							</div>
						</div>
					</div>
					<div class="modal-content-container">
						<ng-container *ngTemplateOutlet="cardViewTemplate; context: { type: type, view: this.atxview }"></ng-container>
						<ng-container *ngTemplateOutlet="listViewTemplate; context: { type: type, view: this.atxview }"></ng-container>
					</div>
				</ng-container>
				<ng-container *ngSwitchCase="'SB'">
					<div class="flex-center-vertical">
						<div class="text-left modal__body__topics cx-text-default"
							[innerText]="'_TopicsAvailableSolution_' | i18n:selectedSuccessPaths?.length || 0:componentData.params.solution:componentData.params.usecase">
						</div>
						<div class="modal__body__filter">
							<cui-select class="lifecycle-filter"
								data-auto-id="category-filter"
								[items]="categoryOptions"
								[label]="'_FilterBy_' | i18n"
								[inline]="true"
								[placeholder]="getStatusOptionName(selectedFilterForSB, categoryOptions)"
								[(ngModel)]="selectedFilterForSB"
								(ngModelChange)="selectFilter('SB')">
							</cui-select>
						</div>
						<div class="modal__body__view-toggle text-right">
							<div class="btn-group btn-group--square">
								<button class="btn btn--small qtr-padding" data-auto-id="sb-table-view-btn"
									[ngClass]="{'selected': sbview ==='list' }" (click)="selectView('list', type)">
									<div inlineSVG="assets/icons/nav-tableline-off.svg"></div>
								</button>
								<button class="btn btn--small qtr-padding" data-auto-id="sb-card-view-btn"
									[ngClass]="{'selected': sbview === 'grid' }" (click)="selectView('grid', type)">
									<div inlineSVG="assets/icons/nav-card-off.svg"></div>
								</button>
							</div>
						</div>
					</div>
					<div class="modal-content-container">
						<ng-container *ngTemplateOutlet="cardViewTemplate; context: { type: type, view: this.sbview }"></ng-container>
						<ng-container *ngTemplateOutlet="listViewTemplate; context: { type: type, view: this.sbview }"></ng-container>
					</div>
				</ng-container>
				<ng-container *ngSwitchCase="'PG'">
					<div class="flex-center-vertical">
						<div class="text-left modal__body__topics cx-text-default"
							[innerText]="'_TopicsAvailableSolution_' | i18n:componentData.productGuides.items?.length || 0:componentData.params.solution:componentData.params.usecase">
						</div>
						<div class="modal__body__filter">
							<cui-select class="lifecycle-filter"
								data-auto-id="pg-category-filter"
								[items]="pgCategoryOptions"
								[label]="'_FilterBy_' | i18n"
								[inline]="true"
								[placeholder]="getStatusOptionName(selectedFilterForPG, pgCategoryOptions)"
								[(ngModel)]="selectedFilterForPG"
								(ngModelChange)="selectFilter('PG')">
							</cui-select>
						</div>
						<div class="modal__body__view-toggle text-right">
							<div class="btn-group btn-group--square">
								<button class="btn btn--small qtr-padding" data-auto-id="pg-table-view-btn"
									[ngClass]="{'selected': pgview ==='list' }" (click)="selectView('list', type)">
									<div inlineSVG="assets/icons/nav-tableline-off.svg"></div>
								</button>
								<button class="btn btn--small qtr-padding" data-auto-id="pg-card-view-btn"
									[ngClass]="{'selected': pgview === 'grid' }" (click)="selectView('grid', type)">
									<div inlineSVG="assets/icons/nav-card-off.svg"></div>
								</button>
							</div>
						</div>
					</div>
					<div class="modal-content-container">
						<ng-container *ngIf="!this.status.loading.productGuides.modal">
							<span #topOfModal></span>
							<ng-container *ngTemplateOutlet="cardViewTemplate; context: { type: type, view: this.pgview }"></ng-container>
							<ng-container *ngTemplateOutlet="listViewTemplate; context: { type: type, view: this.pgview }"></ng-container>
							<ng-container *ngTemplateOutlet="loadMoreTemplate; context: {
								type: type,
								loading: this.status.loading.productGuides.more,
								error: this.status.error.productGuides
							}"></ng-container>
						</ng-container>
						<div class="modal-spinner-container" *ngIf="this.status.loading.productGuides.modal">
							<cui-spinner class="spinner"></cui-spinner>
						</div>
					</div>
				</ng-container>
			</ng-container>
		</div>
	</div>
</ng-template>

<ng-template #loadMoreTemplate let-type="type" let-loading="loading" let-error="error">
	<div class="load-more base-padding-right dbl-margin-top">
		<ng-container *ngIf="!loading">
			<span *ngIf="error" data-auto-id="LoadMore-Error" class="text-danger dbl-margin-bottom">
				<span class="icon-error qtr-margin-right"></span>
				<span [innerText]="'_AnErrorOccurredResults_' | i18n"></span>
			</span>
			<div *ngIf="getMaxSuccessBytesCount(type) > pgNumRows" class="dbl-margin-bottom">
				<div class="subheader" [innerText]="'_ShowingXofY_' | i18n : getSelectedSuccessBytesCount(type) : getMaxSuccessBytesCount(type)"></div>
				<div data-auto-id="LoadMore-ProgressBar" class="progressbar" [attr.data-percentage]="getSuccessBytesPercentage(type)">
					<div class="progressbar__fill"></div>
				</div>
			</div>
			<div class="dbl-margin-top dbl-margin-bottom">
				<button data-auto-id="LoadMore-Button"
					class="btn btn--secondary btn--small text-uppercase"
					[innerText]="'_LoadMore_' | i18n"
					(click)="loadMoreContent(type)"
					[disabled]="getLoadMoreDisabled(type)"></button>
			</div>
			<div class="dbl-margin-top base-margin-bottom">
				<span data-auto-id="LoadMore-BackToTop"
					class="text-medium toggle"
					[innerText]="'_BackToTop_' | i18n"
					(click)="modalScrollToTop()"></span>
			</div>
		</ng-container>
		<ng-container *ngIf="loading">
			<cui-spinner></cui-spinner>
		</ng-container>
	</div>
</ng-template>

<ng-template #cardViewTemplate let-type="type" let-view="view">
	<div class="grid base-padding-top base-padding-bottom card-view"
		[ngClass]="(type === 'SB' || type === 'PG') ? 'success-grid' : ''"
		*ngIf="(!view || view === 'grid')"
		#scrollModal (scroll)="getScrollCoordinates(scrollModal)">
		<ng-container *ngIf="type === 'ATX'">
			<ng-container *ngTemplateOutlet="cardATX"></ng-container>
		</ng-container>
		<ng-container *ngIf="type === 'ACC'">
			<ng-container *ngTemplateOutlet="cardACC"></ng-container>
		</ng-container>
		<ng-container *ngIf="type === 'SB'">
			<ng-container *ngTemplateOutlet="cardSB"></ng-container>
		</ng-container>
		<ng-container *ngIf="type === 'PG'">
			<ng-container *ngTemplateOutlet="cardPG"></ng-container>
		</ng-container>
	</div>
</ng-template>

<ng-template #listViewTemplate let-type="type" let-view="view">
		<div class="base-padding-right list-view" *ngIf="view === 'list'" #scrollModal (scroll)="getScrollCoordinates(scrollModal)" data-auto-id="ViewAllTable">
			<div class="base-margin-top">
					<table class="table table--nostripes table--wrap table--hover table--loose">
					<ng-container *ngIf="type === 'ATX'">
						<ng-container *ngTemplateOutlet="listView; context: { type: type, columns: atxTable.columns, data: selectedATX }"></ng-container>
					</ng-container>
					<ng-container *ngIf="type === 'ACC'">
						<ng-container *ngTemplateOutlet="listView; context: { type: type, columns: accTable.columns, data: selectedACC }"></ng-container>
					</ng-container>
					<ng-container *ngIf="type === 'SB'">
						<ng-container *ngTemplateOutlet="listView; context: { type: type, columns: successBytesTable.columns, data: selectedSuccessPaths }"></ng-container>
					</ng-container>
					<ng-container *ngIf="type === 'PG'">
						<ng-container *ngTemplateOutlet="listView; context: { type: type, columns: productGuidesTable.columns, data: componentData.productGuides.items }"></ng-container>
					</ng-container>
					</table>
				</div>
	</div>
</ng-template>

<ng-template #cardATX>
	<div class="card atx__card"
		*ngFor="let item of selectedATX"
		[ngClass]="item.status === 'recommended' ? 'atx__card__recommended' : null"
		data-auto-id="ATXCard">
		<div class="max-width base-margin-bottom atx__card__image flex">
			<img alt="'_Placeholder_' | i18n" [src]="item.imageURL" data-auto-id="ATXCard-Image"
				[default]="getDefaultAtxImg(item)"
			>
			<ng-container *ngIf="item.providerInfo">
				<img *ngIf="item.providerInfo.logoURL"
					class="atx__card__logo"
					alt="'_Placeholder_' | i18n"
					[src]="item.providerInfo.logoURL"
					data-auto-id="ATXCard-PartnerLogo"/>
				<span *ngIf="!item.providerInfo.logoURL && item.providerInfo.name"
					class="atx__card__logo"
					[innerText]="item.providerInfo.name"
				></span>
			</ng-container>
		</div>
		<div class="text-left base-padding-left atx__card__label"
			data-auto-id="ATXCardHeader"
			*ngIf="item.status === 'Recommended'">
			<span class="icon-flagged qtr-margin-right" data-auto-id="ATXCard-Flag"></span>
			<span class="text-small" [innerText]="'_Recommended_' | i18n"></span>
		</div>
		<div class="icon-bookmark toggle"
			(click)="updateBookmark(item, 'ATX')"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			data-auto-id="ATXCardRibbon">
		</div>
		<div class="card__header atx__card__header text-left title-line-clamp"
			*ngIf="item && item.title"
			[innerText]="item.title"
			data-auto-id="ATXCardTitle">
		</div>
		<div class="card__body atx__card__body text-left desc-line-clamp" *ngIf="item && item.description" [innerText]="item.description" data-auto-id="ATXCard-Description"></div>
		<div class="card__footer atx__card__footer">
			<div class="card_footer_item"  data-auto-id="ATXCardFooter">
				<div class="atx__card__status text-left base-padding-left base-padding-right flex-middle"
					*ngIf="item.status !== 'scheduled'">
					<span class="icon-certified half-padding-right" *ngIf="item.status === 'completed'" data-auto-id="ATXCardFooter-CompletedIcon"></span>
					<span class="icon-clock half-padding-right" *ngIf="item.status === 'in-progress'" data-auto-id="ATXCardFooter-InProgressIcon"></span>
					<span class="icon-check-outline half-padding-right" *ngIf="item.status === 'requested'" data-auto-id="ATXCardFooter-RequestedIcon"></span>
					<span class="text-medium" [innerText]="'_Completed_' | i18n" *ngIf="item.status === 'completed'" data-auto-id="ATXCardFooter-CompletedText"></span>
					<span class="text-medium" [innerText]="'_InProgress_' | i18n" *ngIf="item.status === 'in-progress'" data-auto-id="ATXCardFooter-InProgressText"></span>
					<span class="text-medium" [innerText]="'_Requested_' | i18n" *ngIf="item.status === 'requested'" data-auto-id="ATXCardFooter-RequestedText"></span>
					<div class="atx__card__feedback" *ngIf="item.status === 'completed'">
						<session-feedback
							[type]="AssetType.ATX"
							*ngIf="item.feedbackInfo"
							[item]="item"
						></session-feedback>
					</div>
				</div>
				<div class="text-left base-padding-left base-padding-right base-margin-bottom"
					*ngIf="item.status === 'scheduled'">
					<div *ngFor="let session of item.sessions">
						<div
							*ngIf="session.scheduled"
							class="icon-calendar half-padding-right"
							data-auto-id="ATXCardFooter-ScheduledIcon"
						></div>
						<span class="text-medium" innerText="{{session.sessionStartDate | date:'medium'}}" data-auto-id="ATXCardFooter-ScheduledDate" *ngIf="session.scheduled"></span>
					</div>
				</div>
				<div class="divider no-margin"></div>
				<div class="atx__card__actions">
					<ng-container *ngTemplateOutlet="item?.sessions?.length > 0 ?
						enabledViewSessionsButton : disabledViewSessionsButton; context: {
						type: 'cardView',
						componentData: componentData,
						item: item
					}">
					</ng-container>
					<button class="cx-btn cx-btn--small cx-btn--primary text-uppercase"
						attr.data-auto-id = "CardATXWatchNow-{{ item.recordingURL }}"
						[ngClass]="item?.recordingURL ? null : 'disabled'"
						(click)="crossLaunch(item.recordingURL)"
						[innerText]="'_WatchNow_' | i18n">
					</button>
				</div>
			</div>
		</div>
		<ng-container *ngIf="item == componentData.atx.interested && atxScheduleCardOpened">
			<ng-container *ngTemplateOutlet="recommendedATXSchedule; context: { data: componentData.atx.interested }">
			</ng-container>
		</ng-container>
	</div>
</ng-template>

<ng-template #cardACC>
	<div class="card atx__card" *ngFor="let item of selectedACC"
		[ngClass]="item.status === 'recommended' ? 'acc__card__recommended' : null" data-auto-id="ACCCard">
		<div class="max-width base-margin-bottom acc__card__image flex">
			<img alt="'_Placeholder_' | i18n" [src]="item.url" data-auto-id="ACCard-Image"
				[default]="getDefaultAccImg(item)"
			>
			<ng-container *ngIf="item.providerInfo">
				<img *ngIf="item.providerInfo.logoURL"
					class="acc__card__logo"
					alt="'_Placeholder_' | i18n"
					[src]="item.providerInfo.logoURL"
					data-auto-id="ACCCard-ProviderLogo"/>
				<span *ngIf="!item.providerInfo.logoURL  && item.providerInfo?.name"
					class="acc__card__logo"
					[innerText]="item.providerInfo.name"
					data-auto-id="ACCCard-ProviderText"
				></span>
			</ng-container>
		</div>
		<div class="text-left base-padding-left atx__card__label half-margin-bottom"
			data-auto-id="ACCCardHeader"
			*ngIf="item.status === 'recommended'">
			<span class="icon-flagged qtr-margin-right" data-auto-id="ACCCard-Flag"></span>
			<span class="text-small" [innerText]="'_Recommended_' | i18n"></span>
		</div>
		<div class="icon-bookmark" (click)="updateBookmark(item, 'ACC')"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			data-auto-id="ACCCardRibbon">
		</div>
		<div class="card__header atx__card__header text-left title-line-clamp"
			*ngIf="item && item.title" [innerText]="item.title" data-auto-id="ACCCardTitle">
		</div>
		<div class="card__body atx__card__body text-left desc-line-clamp no-margin-bottom" *ngIf="item && item.description"
			[innerText]="item.description" data-auto-id="ACCCardDescription"></div>
		<div class="card__footer atx__card__footer">
			<div class="card_footer_item" data-auto-id="ACCCardFooter">
				<div class="atx__card__status text-left base-padding-left base-padding-right flex-middle">
					<span class="icon-certified half-padding-right" *ngIf="item.status === 'completed'"></span>
					<span class="icon-clock half-padding-right" *ngIf="item.status === 'in-progress'"></span>
					<span class="icon-check-outline half-padding-right" *ngIf="item.status === 'requested'"></span>
					<span class="text-medium" [innerText]="'_Completed_' | i18n" *ngIf="item.status === 'completed'"></span>
					<span class="text-medium" [innerText]="'_SessionInProgress_' | i18n" *ngIf="item.status === 'in-progress'"></span>
					<span class="text-medium" [innerText]="'_Requested_' | i18n" *ngIf="item.status === 'requested'"></span>
					<div class="atx__card__feedback" *ngIf="item.status === 'completed'">
						<session-feedback
							[type]="AssetType.ACC"
							*ngIf="item.feedbackInfo"
							[item]="item"
						></session-feedback>
					</div>
				</div>
				<div class="divider no-margin"></div>
				<div class="atx__card__actions">
					<div class="text-left text-info" *ngIf="item.status === 'recommended'">
						<ng-container *ngTemplateOutlet="!notCurrentPitstop ? enabledAccButton : disabledAccButton; context: {
							accId: item.accId,
							title: item.title,
							accProviderId: item.providerInfo?.id,
							accProviderName: item.providerInfo?.name,
							dataAutoId: 'Request1on1ACCButton'
							}">
						</ng-container>
					</div>
					<div class="text-left text-info base-padding-bottom half-padding-top" *ngIf="item.status !== 'recommended'"></div>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #cardSB>
	<div class="card success__card"
		*ngFor="let item of selectedSuccessPaths"
		data-auto-id="SBCard">
		<div class="icon-bookmark toggle"
			(click)="updateBookmark(item, 'SB')"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			data-auto-id="SBCardRibbon">
		</div>
		<div class="card__header success__card__archetype text-left text-uppercase qtr-margin-bottom cx-text-secondary" [innerText]="item.archetype" data-auto-id="SBCardArchetype"></div>
		<div class="card__header success__card__header text-left">
			<a class="no-link" data-auto-id="successtitle" target="_blank" rel="noopener noreferrer"
					[href]="item.url">
				<span class="title-line-clamp" data-auto-id="SBCardTitle" [innerText]="item.title"></span>
			</a>
		</div>
		<div class="success__card__icons">
			<ng-container *ngTemplateOutlet="itemTypeIcons; context: {
				item: item,
				autoid: 'SuccessBytesCard'
			}">
			</ng-container>
			<div class="duration text-muted" *ngIf="item.duration">
				<span class="icon-clock qtr-padding-right"></span>
				<span [innerText]="item.duration"></span>
			</div>
		</div>
		<div class="card__body success__card__body text-left desc-line-clamp cx-text-secondary" *ngIf="item && item.description" [innerText]="item.description" data-auto-id="SBCardDescription"></div>
		<div class="card__footer success__card__footer">
			<div class="card_footer_item"  data-auto-id="SBCardFooter">
				<div class="divider no-margin"></div>
				<div class="atx__card__actions">
					<a class="no-link" target="_blank" [href]="item.url">
						<button data-auto-id="LaunchButton" class="cx-btn cx-btn--small cx-btn--primary text-uppercase"
							[innerText]="'_View_' | i18n"></button>
					</a>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #listView let-data="data" let-columns="columns" let-type="type">
	<tr class="th-row">
		<th *ngFor="let column of columns"
			attr.data-auto-id="ViewAllTable-columnHeader-{{ column.name }}"
			[ngClass]="{ 'sortable': column.sortable }"
			(click)="column.sortable ? onSort(column.sortKey, column.sortDirection, type) : null">
			<span [innerText]="column.name"></span>
			<span *ngIf="column.sortable && column.sorting" class="qtr-margin-left" [ngClass]="{
							'icon-chevron-down': column.sortDirection === 'asc',
							'icon-chevron-up': column.sortDirection === 'desc'
						}">
			</span>
		</th>
	</tr>
	<tr class="td-row" *ngFor="let item of data">
		<td class="text-left" *ngFor="let column of columns" [ngStyle]="{ 'width': column.width }">
			<ng-container *ngIf="column.template">
				<ng-container *ngTemplateOutlet="column.template; context: { celldata: item, type: type }"></ng-container>
			</ng-container>
			<ng-container *ngIf="!column.template">
				<div class="list-view__col" [innerText]="item[column.key]" attr.data-auto-id="ViewAllTable-{{ column.name }}-rowValue">
				</div>
			</ng-container>
		</td>
	</tr>
	<ng-container *ngIf="atxScheduleCardOpened && componentData.atx.interested">
			<ng-container *ngTemplateOutlet="recommendedATXSchedule; context: { data: componentData.atx.interested }"></ng-container>
	</ng-container>
</ng-template>

<ng-template #cardPG>
	<div class="card success__card"
		*ngFor="let item of componentData.productGuides.items"
		data-auto-id="PGCard">
		<div class="icon-bookmark toggle"
			(click)="updateBookmark(item, 'PG')"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			data-auto-id="PGCardRibbon">
		</div>
		<div class="card__header success__card__archetype text-left text-uppercase qtr-margin-bottom cx-text-secondary" [innerText]="item.archetype" data-auto-id="PGCardArchetype"></div>
		<div class="card__header success__card__header text-left">
			<a class="no-link" data-auto-id="successtitle" target="_blank" rel="noopener noreferrer"
					[href]="item.url">
				<span class="title-line-clamp" data-auto-id="PGCardTitle" [innerText]="item.title"></span>
			</a>
		</div>
		<div class="success__card__icons">
			<ng-container *ngTemplateOutlet="itemTypeIcons; context: {
				item: item,
				autoid: 'ProductGuidesCard'
			}">
			</ng-container>
			<div class="duration text-muted" *ngIf="item.duration" data-auto-id="PGCardDuration">
				<span class="icon-clock qtr-padding-right"></span>
				<span [innerText]="item.duration"></span>
			</div>
		</div>
		<div class="card__body success__card__body text-left desc-line-clamp cx-text-secondary" *ngIf="item && item.description" [innerText]="item.description" data-auto-id="PGCardDescription"></div>
		<div class="card__footer success__card__footer">
			<div class="card_footer_item"  data-auto-id="PGCardFooter">
				<div class="divider no-margin"></div>
				<div class="atx__card__actions">
					<a class="no-link" target="_blank" [href]="item.url">
						<button data-auto-id="LaunchButton" class="cx-btn cx-btn--small cx-btn--primary text-uppercase"
							[innerText]="'_View_' | i18n"></button>
					</a>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #coaching let-results="results">
	<div id="coachingModal" class="modal__content no-padding">
		<div class="modal__header webinar-title-background no-margin">
			<div class="row half-padding-top">
				<div class="col-md-11 half-margin-top base-padding-left">
					<div class="text-xlarge text-left text-white" [innerText]="'_Accelerator_' | i18n"></div>
				</div>
				<div class="col-md-1 half-margin-top">
					<span (click)="closeModal()" data-auto-id="WebinarModalClose" class="icon-close icon-medium text-right"></span>
				</div>
			</div>
		</div>
		<div class="modal__body">
			<div class="base-padding-left text-medium text-bold text-left half-padding-bottom half-padding-top" [innerText]="'_TopicsAvailable_' | i18n:results.webinars.length"></div>
			<div class="row base-padding-left base-padding-right base-padding-bottom">
				<div class="col-md-3 base-padding-bottom" *ngFor="let result of results.webinars">
					<div class="card max-height tab-background">
						<div class="card__header text-left text-bold" [innerText]="result.title"></div>
						<div class="card__body webinar-card text-left" [innerText]="result.summary"></div>
						<div class="card__footer">
							<div class="col-md-8">
								<div class="row">
									<span class="icon-play-contained icon-small"></span>
									<span [innerText]="'_WatchOnDemand_' | i18n"></span>
								</div>
								<div class="row">
									<span class="icon-calendar icon-small"></span>
									<span [innerText]="'_ChooseSession_' | i18n"></span>
								</div>
							</div>
							<div class="col-md">
								<div class="row flex-center-vertical">
									<span class="icon-clock icon-small"></span>
									<span [innerText]="'_Placeholder_' | i18n"></span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #cgtRequestTraining let-data="data">
	<div class="panel cgtpanel--open panel--bordered"
		*ngIf="cgtRequestTrainingClicked"
		data-auto-id="cgtTrainingLimitPopup">
		<div class="row base-margin-top half-margin-left half-margin-right">
			<div class="col-md-11 text-left">
				<div class="half-margin-left" [innerText]="data | i18n"></div>
			</div>
			<div class="col-md-1">
				<a class="no-link closebtn"
					(click)="cgtRequestTrainingClicked = false"
					data-auto-id="Close-CgtTrainingComplete-Popup">
					<span class="icon-close icon-small"></span>
				</a>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #cgtPanel let-data="data">
	<div class="cx-lifecycle-card--subtitle base-margin-bottom" [innerText]="'_CGTDescription_' | i18n"></div>
	<div class="text-left" *ngIf="data.trainingsAvailable===0">
		<button (click)="cgtRequestTrainingClicked = true"
			class="cx-btn cx-btn--small cx-btn--primary text-uppercase"
			[ngClass]="cgtRequestTrainingClicked ? ' btn--gray-ghost disabled' : 'btn--secondary'"
			[innerText]="'_RequestTraining_' | i18n"
			data-auto-id="Request-CgtCompleted">
		</button>
		<ng-container *ngTemplateOutlet="cgtRequestTraining; context: { data:  '_CGTSessionLimitReached_' }"></ng-container>
	</div>
	<div class="text-left" *ngIf="data.trainingsAvailable>0">
		<button (click)="selectCgtRequestForm(true, data.usedTrainings)"
			class="cx-btn cx-btn--small cx-btn--primary text-uppercase"
			[innerText]="'_RequestTraining_' | i18n"
			data-auto-id="Request-CgtTraining">
		</button>
	</div>
	<div *ngIf="data.sessions.length>0" data-auto-id="CGTCompletedList">
		<div class="divider"></div>
		<div class="cx-lifecycle-card--cgt-session">
			<div class="half-padding-bottom" *ngFor="let item of data.sessions | slice:0:2">
				<div class="panel small-panel">
					<div class="row flex-center-vertical">
						<div class="col-md-11">
							<div class="text-med qtr-padding-bottom" [innerText]="item.trainingDuration"></div>
							<div class="text-small" [innerText]="item.trainingLocation"></div>
						</div>
						<div class="col-md-1 icon-certified"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #panel let-template="template" let-title="title" let-loading="loading" let-data="data" let-viewAll="viewAll" let-viewAllLabel="viewAllLabel" let-icon="icon">
	<div class="cx-lifecycle-card panel base-padding-left base-padding-right panel-border-top" attr.data-auto-id="{{ title | i18n }} Panel">
		<div class="qtr-padding-bottom">
			<span class="icon-{{ icon }}" *ngIf="icon"></span>
			<span class="cx-lifecycle-card--title text-uppercase" [innerText]="title | i18n" attr.data-auto-id="PanelTitle-{{title}}"></span>
			<div class="view-all pull-right toggle" [ngClass]="{'hide': data?.sessions?.length === 0}" *ngIf="viewAll">
				<div  *ngIf="data"
					(click)="showModal(viewAll)"
					attr.data-auto-id="ShowModalPanel-{{ title }}">
					<span class="text-med" [innerText]="viewAllLabel | i18n"></span>
					<span class="icon-play"></span>
				</div>
			</div>
		</div>

		<div *ngIf="!loading && data">
			<ng-container *ngTemplateOutlet="template; context: { data: data }"></ng-container>
		</div>
		<div *ngIf="loading">
			<cui-spinner></cui-spinner>
		</div>
	</div>
</ng-template>

<ng-container *ngIf="selectAccComponent">
	<acc-request-form (visibleComponent)="selectAccRequestForm($event)"
		[accId]="accIdRequestForm"
		[accTitle]="accTitleRequestForm"
		[accProviderId]="accProviderId"
		[accProviderName]="accProviderName"
		[solution]="selectedSolution.name"
		[technology]="selectedTechnology.name"
		[pitstop]="currentPitstop.name"
		(submitted)="accRequestSubmit($event)">
	</acc-request-form>
</ng-container>

<ng-template #formatTemplate let-celldata="celldata">
	<div class="row list-view__col">
		<div class="col-md-5">
			<div *ngIf="celldata.type">
					<ng-container *ngTemplateOutlet="itemTypeIcons; context: {
						item: celldata,
						autoid: 'TableView'
					}">
					</ng-container>
			</div>
		</div>
		<div class="col-md-7">
			<div *ngIf="celldata.duration">
				<span class="icon--inline" inlineSVG="assets/icons/icon-matrics-timer.svg" data-auto-id="ViewAllTable-Format-rowValue-clock"></span>
				<span [innerText]="celldata.duration" data-auto-id="ViewAllTable-Format-rowValue-duration"></span>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #bookmarkTemplate let-celldata="celldata" let-type="type">
	<div class="flex-center-vertical justify-content-between bookmark-column">
		<div>
			<div *ngIf="celldata.bookmark" class="icon-bookmark icon-bookmark--on half-margin-right"
				(click)="updateBookmark(celldata, type)" data-auto-id="SBListRibbon"></div>
			<div *ngIf="!celldata.bookmark" class="icon-bookmark icon-bookmark--off half-margin-right"
				(click)="updateBookmark(celldata, type)" data-auto-id="SBListRibbon"></div>
		</div>
		<img class="table-img-width"
			*ngIf="type === 'ATX' || type === 'ACC'"
			alt="'_Placeholder_' | i18n"
			[src]="celldata.imageURL || celldata.url || 'assets/img/solutions/defaultLifecycleImage.png'"
			[default]="type === 'ATX' ? getDefaultAtxImg(celldata) : 'assets/img/solutions/defaultLifecycleImage.png'"
			attr.data-auto-id="{{ type }}-Image" />
	</div>
</ng-template>

<ng-template #statusTemplate let-celldata="celldata">
	<ng-container [ngSwitch]="celldata.status">
		<div *ngSwitchCase="'scheduled'" data-auto-id="Table-Status-Scheduled">
			<div *ngFor="let session of celldata.sessions">
				<div *ngIf="session.scheduled">
					<span class="icon-calendar icon-small" data-auto-id="Table-Status-Scheduled-Icon"></span>
					<span class="half-margin-left"
						innerText="{{ session.sessionStartDate | date:'medium'}}" data-auto-id="scheduledDate"></span>
				</div>
			</div>
		</div>
		<div *ngSwitchCase="'requested'" data-auto-id="Table-Status-Requested">
			<span class="icon-check-outline icon-small"></span>
			<span class="half-margin-left" [innerText]="'_Requested_' | i18n"></span>
		</div>
		<div *ngSwitchCase="'in-progress'" data-auto-id="Table-Status-InProgress">
			<span class="icon-clock icon-small"></span>
			<span class="half-margin-left" [innerText]="'_InProgress_' | i18n"></span>
		</div>
		<div *ngSwitchCase="'completed'" data-auto-id="Table-Status-Completed">
			<span class="icon-certified icon-small" data-auto-id="Table-Status-Completed-Icon"></span>
			<span class="half-margin-left" [innerText]="'_Completed_' | i18n" data-auto-id="Table-Status-Completed-Text"></span>
		</div>
		<div *ngSwitchDefault>
			<span [innerText]="'-'" data-auto-id="Table-Status-Default"></span>
		</div>
	</ng-container>
</ng-template>

<ng-template #providerTemplate  let-celldata="celldata">
	<span [innerText]="celldata.providerInfo ? (celldata.providerInfo.name ? celldata.providerInfo.name : '-') : 'Cisco'"
		data-auto-id="partner-name"
	></span>
</ng-template>

<ng-template #actionTemplate let-celldata="celldata" let-type="type">
	<div class="text-right" *ngIf="type === 'ATX'">
		<ng-container *ngTemplateOutlet="celldata?.sessions?.length > 0 ?
			enabledViewSessionsButton : disabledViewSessionsButton; context: {
			type:'listView',
			componentData: componentData,
			item: celldata
		}">
		</ng-container>
		<button class="cx-btn cx-btn--small cx-btn--primary text-uppercase half-margin-left"
			attr.data-auto-id = "ListATXWatchNow-{{ celldata.recordingURL }}"
			[ngClass]="celldata?.recordingURL ? null : 'disabled'"
			(click)="crossLaunch(celldata.recordingURL)"
			[innerText]="'_WatchNow_' | i18n">
		</button>
	</div>
	<div *ngIf="type === 'ACC' && celldata.status === 'recommended'" class="text-right">
		<ng-container *ngTemplateOutlet="!notCurrentPitstop ? enabledAccButton : disabledAccButton; context: {
			accId: celldata.accId,
			title: celldata.title,
			accProviderId: celldata.providerInfo?.id,
			accProviderName: celldata.providerInfo?.name,
			dataAutoId: 'Request1on1ACCButton'
			}">
		</ng-container>
	</div>
	<div *ngIf="type === 'SB' || type==='PG'" class="text-right">
		<a class="no-link" target="_blank" [href]="celldata.url">
			<button data-auto-id="LaunchButton" class="cx-btn cx-btn--small cx-btn--primary text-uppercase qtr-margin-left"
				[innerText]="'_View_' | i18n"></button>
		</a>
	</div>
</ng-template>

<ng-template #enabledAccButton let-accId="accId" let-title="title" let-accProviderId="accProviderId" let-accProviderName="accProviderName">
	<button data-auto-id="Request1on1ACCButton"
		(click)="selectAccRequestForm(true, accId, title, accProviderId, accProviderName)"
		class="cx-btn cx-btn--small cx-btn--primary text-uppercase"
		[innerText]="'_Request1on1_' | i18n">
	</button>
</ng-template>

<ng-template #disabledAccButton>
	<div tooltip
		[tooltipTemplate]="accDisableTooltip"
		tooltipDelay="500"
		tooltipMaxWidth="275">
		<button data-auto-id="Request1on1ACCButton"
			class="cx-btn cx-btn--small cx-btn--primary text-uppercase disabled"
			[innerText]="'_Request1on1_' | i18n">
		</button>
	</div>
</ng-template>

<ng-template #accDisableTooltip><p [innerText]="'_DisableACCRegister_' | i18n"></p></ng-template>

<ng-template #enabledViewSessionsButton let-type="type" let-componentData="componentData" let-item="item">
		<span [ngSwitch]="type" class="qtr-margin-right">
			<button *ngSwitchCase="'moreView'"
				class="cx-btn cx-btn--small cx-btn--primary text-uppercase"
				data-auto-id="MoreATXViewSessions"
				(click)="atxMoreViewSessions()"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'recommendedView'" id="recommendedATXScheduleButton"
				data-auto-id="recommendedATXScheduleButton"
				class="cx-btn cx-btn--small cx-btn--primary text-uppercase qtr-margin-right"
				(click)="recommendedATXViewSessions($event)"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'listView'" data-auto-id="ViewSessionButton"
				class="cx-btn cx-btn--small cx-btn--primary text-uppercase qtr-margin-bottom qtr-margin-top"
				(click)="atxScheduleCardOpened = true;
					recommendedAtxScheduleCardOpened = false;
					componentData.atx.interested = item; getCoordinates($event)"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'cardView'" id="cardRecommendedATXScheduleButton"
				data-auto-id="cardRecommendedATXScheduleButton"
				class="cx-btn cx-btn--small cx-btn--primary text-uppercase"
				(click)="atxScheduleCardOpened = true;
						recommendedAtxScheduleCardOpened = false;
						componentData.atx.interested = item;
						getCoordinates($event)"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
		</span>
</ng-template>

<ng-template #disabledViewSessionsButton let-type="type">
		<span [ngSwitch]="type" tooltip
			[tooltipTemplate]="viewSessionsDisableTooltip"
			tooltipDelay="500"
			tooltipMaxWidth="225"
			tooltipMaxHeight="85"
			class="qtr-margin-right">
			<button *ngSwitchCase="'moreView'"
				class="cx-btn cx-btn--small cx-btn--primary text-uppercase disabled"
				data-auto-id="MoreATXViewSessions"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'recommendedView'"
				data-auto-id="recommendedATXScheduleButton"
				class="cx-btn cx-btn--small cx-btn--primary text-uppercase qtr-margin-right
					disabled"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'listView'" data-auto-id="ViewSessionButton"
				class="cx-btn cx-btn--small cx-btn--primary text-uppercase qtr-margin-bottom
					qtr-margin-top disabled"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'cardView'"
				data-auto-id="cardRecommendedATXScheduleButton"
				class="cx-btn cx-btn--small cx-btn--primary text-uppercase disabled"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
		</span>
</ng-template>

<ng-template #viewSessionsDisableTooltip><span [innerText]="'_DisableViewSessions_' | i18n"></span></ng-template>

<ng-template #titleTemplate let-celldata="celldata" let-type="type">
	<div class="row" *ngIf="type==='ATX' || type === 'ACC'">
		<div class="col-md-12 flex">
			<span *ngIf="celldata.status === 'recommended'" class="icon-flagged qtr-margin-right cx-text-light-gray"></span>
			<div id="viewAllTable-item" class="panel small-panel">
				<div class="no-margin cx-text-default" [innerText]="celldata.title" attr.data-auto-id="{{ type }}-Title"></div>
				<ng-container *ngTemplateOutlet="atxHover; context: {
					title: celldata.title,
					description: celldata.description,
					item: celldata,
					autoid: 'viewAllTable'
				}">
				</ng-container>
			</div>
		</div>
	</div>
	<div class="list-view__col--highlight" *ngIf="type==='SB' || type==='PG'">
		<a class="no-link" target="_blank" rel="noopener noreferrer"
			[innerText]="celldata.title" [href]="celldata.url" attr.data-auto-id="{{ type }}-Name-rowValue"></a>
	</div>
</ng-template>

<ng-container *ngIf="selectCgtComponent">
	<cgt-request-form (visibleComponent)="selectCgtRequestForm($event)"
		[usedTrainingData]="usedTrainingsList"
		[solution]="selectedSolution.name"
		[technology]="selectedTechnology.name"
		[pitstop]="currentPitstop.name"
		(submitted)="cgtRequestSubmit($event)">
	</cgt-request-form>
</ng-container>

<ng-template #itemTypeIcons let-item="item" let-autoid="autoid">
	<div class="type text-left" *ngIf="item.type === 'Web Page'" attr.data-auto-id="{{ autoid }}-WebIcon">
		<span class="icon-link icon qtr-padding-right"></span>
		<span class="item-type__text" [innerText]="'_Web_' | i18n"></span>
	</div>
	<div class="type text-left" *ngIf="item.type === 'Video'" attr.data-auto-id="{{ autoid }}-VideoIcon">
		<span class="icon-video icon qtr-padding-right"></span>
		<span class="item-type__text" [innerText]="'_Video_' | i18n"></span>
	</div>
	<div class="type text-left" *ngIf="item.type === 'PDF'" attr.data-auto-id="{{ autoid }}-PDFIcon">
		<span class="icon-file-pdf-o icon qtr-padding-right"></span>
		<span class="item-type__text" [innerText]="'_PDF_' | i18n"></span>
	</div>
	<div class="type text-left" *ngIf="item.type === 'Data Sheet'" attr.data-auto-id="{{ autoid }}-DataSheetIcon">
		<span class="icon-file-o icon qtr-padding-right"></span>
		<span class="item-type__text" [innerText]="'_Datasheet_' | i18n"></span>
	</div>
</ng-template>
