<div class="panel panel--ltgray panel--bordered" #lifecyclePanel [class.panel--bottom-padding]="panelBottomPaddingNeeded">
	<div class="row base-padding-top">
		<div class="col-md-3" *ngIf="!status.loading.racetrack && componentData?.racetrack?.stage">
			<ng-container *ngTemplateOutlet="racetrack"></ng-container>
		</div>

		<div class="col-md-9">
			<div class="row">
				<div class="col-md-4">
					<app-communities></app-communities>
					<ng-container *ngTemplateOutlet="panel; context: {
							template: atxPanel,
							title: '_AskTheExperts_',
							loading: status.loading.atx,
							data: componentData.atx,
							viewAllLabel: '_ViewAll_',
							viewAll: 'atx'
						}">
					</ng-container>
				</div>
				<div class="col-md-4">
					<ng-container *ngTemplateOutlet="panel; context: {
						template: successBytesPanel,
						title: '_SuccessBytes_',
						loading: (status.loading.success || status.loading.productGuides),
						data: componentData.learning,
						viewAllLabel: '_ViewAll_',
						viewAll: '_SuccessBytes_'
					}">
					</ng-container>
					<ng-container *ngTemplateOutlet="panel; context: {
							template: learnPanel,
							title: '_Learn_',
							loading: (status.loading.elearning && !status.loading.success),
							data: componentData.learning
						}">
					</ng-container>
					<ng-container *ngIf="enableCGT && cxLevel === 3">
						<ng-container *ngTemplateOutlet="panel; context: {
							template: cgtPanel,
							icon: 'communities',
							title: '_CustomizedGroupTraining_',
							loading: status.loading.cgt,
							data: componentData.cgt
						}">
						</ng-container>
					</ng-container>
				</div>
				<div class="col-md-4">
					<ng-container *ngTemplateOutlet="panel; context: {
							template: accPanel,
							title: '_Accelerator_',
							loading: status.loading.acc,
							data: componentData.acc,
							viewAllLabel: '_ViewAll_',
							viewAll: 'acc'
						}">
					</ng-container>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="modal-container" *ngIf="modal.visible">
	<div class="modal modal--full" [ngClass]="{ hide: !modal.visible }" [ngStyle]="{'margin-top': appHeaderHeightPX }">
		<div class="lifecycle-modal modal__dialog no-padding" >
			<ng-container *ngTemplateOutlet="modal.content; context: modal.context"></ng-container>
		</div>
	</div>
</div>

<ng-template #racetrack>
	<div class="base-padding-left">
		<div class="pitstop-title">
			<h3 class="text-primary" *ngIf="currentWorkingPitstop" [innerText]="currentWorkingPitstop" data-auto-id="CurrentPitstopTitle"></h3>
		</div>
		<div class="pitstop-margin"></div>
		<div class="pitstop-finishline">
			<svg class="pitstop-banner">
				<polygon points="0,0 100,0 100,50 20,50" />
				<text class="comPertText text-bold" x="55" y="23" text-anchor="middle" [innerHTML]="currentActionsCompPert" data-auto-id="CompletedActionsPercent"></text>
			</svg>
			<span><img class="finishline qtr-margin-top" alt="'_FinishLine_' | i18n" src="assets/img/solutions/finishline_side.png"> </span>
		</div>
	</div>
	<div class="half-padding-top half-padding-left">
		<app-racetrack [stage]="componentData.racetrack.stage"
			[currentStage]="currentWorkingPitstop"
			(onStageChange)="getRacetrackInfo($event)">
		</app-racetrack>
		<div class="half-padding-left">
			<span *ngIf="currentPitstop" [innerHTML]="'_DuringXStage_' | i18n:currentPitstop.name"></span>
			<span [ngSwitch]="componentData?.racetrack?.stage">
				<span *ngSwitchCase="'Onboard'" [innerHTML]="'_OnboardDescription_' | i18n"></span>
				<span *ngSwitchCase="'Implement'" [innerHTML]="'_ImplementDescription_' | i18n"></span>
				<span *ngSwitchCase="'Adopt'" [innerHTML]="'_AdoptDescription_' | i18n"></span>
				<span *ngSwitchCase="'Engage'" [innerHTML]="'_EngageDescription_' | i18n"></span>
				<span *ngSwitchCase="'Use'" [innerHTML]="'_UseDescription_' | i18n"></span>
				<span *ngSwitchCase="'Optimize'" [innerHTML]="'_OptimizeDescription_' | i18n"></span>
			</span>
		</div>
	</div>
	<div class="base-margin-left" *ngIf="currentPitstop && currentPitstop?.pitstopActions?.length">
		<div class="divider divider--compressed"></div>
		<div class="base-margin-top">
			<span class="qtr-padding-bottom icon-flagged"></span>
			<span class="text-uppercase qtr-padding-left" [innerText]="'_CheckList_' | i18n"></span>
		</div>
		<p class="text-small no-margin-top" [innerText]="'_ChecklistDesc_' | i18n"></p>
		<div *ngFor="let action of currentPitActionsWithStatus" class="form-group form-group select" data-auto-id="pitstopAction">
			<div class="actionname row qtr-padding-top qtr-padding-bottom" [ngClass]="{selected: action.selected}">
				<div class="col-md-1">
					<!-- since updatePitstop API going through changes, we are temporarily disabling the user from checking a box -->
					<!-- This will manually be done by the CSM/CSE.  Refer to PBC-725. -->
					<!-- <label class="checkbox" [ngClass]="{'disabled': action.action.isComplete || currentWorkingPitstop !== currentPitstop.name }" data-auto-id="pitstopCheckboxLabel"> -->
					<label class="checkbox disabled" data-auto-id="pitstopCheckboxLabel">
						<input data-auto-id="pitstopCheckbox" type="checkbox"
							(change)="completeAction(action.action)" [checked]="true"
						>
						<span class="checkbox__input" data-auto-id="pitstopCheckboxSpan"
							[ngClass]="{'checkbox-complete': action.action.isComplete}"
						></span>
					</label>
				</div>
				<div class="col-md-11">
					<a data-auto-id="actionlink"
						class="no-link"
						data-toggle="tooltip" data-placement="bottom" title="{{action?.action?.description}}"
						(click)="selectAction(action)">
						<div class="checkbox__label text-medium"
							[innerText]="action?.action?.name">
						</div>
					</a>
				</div>
			</div>
		</div>
		<div *ngIf="hasSelectedAction()">
			<div class="divider divider--compressed"></div>
			<div class="text-vibblue base-margin-top base-margin-bottom toggle"
				id="ResetFilter"
				[innerText]="'_ResetFilter_' | i18n"
				(click)="resetFilter()"
				data-auto-id="ResetFilter">
			</div>
		</div>
	</div>
</ng-template>

<ng-template #atxPanel let-data="data">
	<div class="cx-lifecycle-card--subtitle base-margin-bottom" [innerText]="'_TrainingWebinars_' | i18n"></div>
	<ng-container *ngIf="data.recommended">
		<ng-container *ngTemplateOutlet="recommended; context: {
				template: recommendedATX,
				hoverTemplate: atxHover,
				title: data.recommended.title,
				description: data.recommended.description,
				src: data.recommended.imageURL || 'assets/img/solutions/defaultLifecycleImage.png',
				item: data.sessions[0],
				autoid: 'recommendedATX'
			}">
		</ng-container>
	</ng-container>
	<ng-container *ngIf="data.sessions.length">
		<ng-container *ngTemplateOutlet="more; context: { data: data.sessions, autoid: 'moreATXList' }"></ng-container>
	</ng-container>
	<ng-container *ngIf="atxMoreClicked && moreATXSelected">
		<ng-container *ngTemplateOutlet="atxMoreClick; context: { data: moreATXSelected }">
		</ng-container>
	</ng-container>
	<ng-container *ngIf="atxScheduleCardOpened && moreATXSelected">
		<ng-container *ngTemplateOutlet="recommendedATXSchedule; context: { data: moreATXSelected }">
		</ng-container>
	</ng-container>
</ng-template>

<ng-template #recommended let-src="src" let-title="title" let-description="description"
	let-template="template" let-autoid="autoid" let-item="item" let-hoverTemplate="hoverTemplate">
	<div id="recommended-item" class="cx-lifecycle-card--recommended-item panel panel--bordered no-padding-top no-padding-left no-padding-right" attr.data-auto-id="{{ autoid }}">
		<ng-container *ngTemplateOutlet="template; context: {
			item: item,
			autoid: autoid,
			title: title,
			src: src
		}">
		</ng-container>
		<ng-container *ngIf="autoid">
			<ng-container *ngTemplateOutlet="hoverTemplate; context: {
				title: title,
				description: description,
				item: item,
				autoid: autoid
			}">
			</ng-container>
		</ng-container>
	</div>
</ng-template>

<ng-template #learningHover let-title="title" let-item="item" let-description="description" let-autoid="autoid">
	<div id="learn-hover-panel-{{ autoid }}" class="panel" attr.data-auto-id="{{ autoid }}-HoverModal">
		<div class="popover-tail"></div>
		<div class="flex flex-column max-height">
			<h6 class="learning-popover__title title-line-clamp" [innerText]="title" attr.data-auto-id="{{ autoid }}-HoverModal-Title"></h6>
			<div class="divider divider--compressed"></div>
			<div *ngIf="item && item.fixedRating" class="half-margin-bottom">
				<cui-rating [rating]="item.fixedRating" [alt]="true" [noClick]="true" size="small" attr.data-auto-id="{{ autoid }}-HoverModal-Rating"></cui-rating>
			</div>
			<div class="line-clamp learning-popover__description" [innerText]="description" attr.data-auto-id="{{ autoid }}-HoverModal-Description"></div>
			<div *ngIf="item && item.duration" class="learning-popover__footer" attr.data-auto-id="{{ autoid }}-HoverModal-Duration">
				<span class="icon-clock qtr-margin-right" attr.data-auto-id="{{ autoid }}-HoverModal-DurationClock"></span>
				<span class="learning-popover__footer__text" [innerText]="item.duration"></span>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #atxHover let-title="title" let-description="description" let-autoid="autoid" let-item="item">
	<div id="atx-hover-panel-{{ autoid }}" class="panel" *ngIf="!atxScheduleCardOpened && !atxMoreClicked" attr.data-auto-id="{{ autoid }}-HoverModal">
		<div class="popover-tail popover-tail--left"></div>
		<div class="flex flex-column max-height">
			<div class="icon-bookmark ribbon--hover"
				[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
				(click)="updateBookmark(item, 'ATX')"
				attr.data-auto-id="{{ autoid }}-HoverModal-BookmarkRibbon">
			</div>
			<h6 class="atx-popover__title title-line-clamp" [innerText]="title" attr.data-auto-id="{{ autoid }}-HoverModal-Title"></h6>
			<div class="divider divider--compressed"></div>
			<div class="atx-popover__description line-clamp" [innerText]="description" attr.data-auto-id="{{ autoid }}-HoverModal-Description"></div>
		</div>
	</div>
</ng-template>

<ng-template #atxMoreClick let-data="data">
	<div class="panel atxMorepanel--open panel--bordered"
		#atxMoreClick [ngClass]="getATXMorePanel(atxMoreClick)"
		*ngIf="atxMoreClicked" data-auto-id="atxMoreClickModal">
		<div class="flex flex-column max-height">
			<div class="icon-bookmark icon-medium"
				[ngClass]="data.bookmark ? 'ribbon__blue__atx' : 'ribbon__white__atx'"
				(click)="updateBookmark(data, 'ATX')"
				data-auto-id="ATXMoreRibbon">
			</div>
			<div class="row half-margin-top half-margin-left half-margin-right">
				<div class="col-md-11 text-left title-line-clamp">
					<h6 class="text-indigo" [innerText]="data.title" data-auto-id="atxMoreClickModal-Title"></h6>
				</div>
				<div class="col-md-1">
					<a class="no-link closebtn"
						data-auto-id = "closeMoreATXClickModal"
						(click)="atxMoreClicked = false; moreATXSelected = ''">
						<span class="icon-close icon-small"></span>
					</a>
				</div>
			</div>
			<div class="divider divider--compressed"></div>
			<div class="half-margin-left line-clamp" [innerText]="data.description" data-auto-id="atxMoreClickModal-Description"></div>
			<div class="base-padding-top half-padding-left">
				<ng-container *ngTemplateOutlet="data?.sessions?.length > 0 ? 
					enabledViewSessionsButton : disabledViewSessionsButton; context: {
						type: 'moreView'
					}">
				</ng-container>
				<button class="btn btn--small btn--secondary text-uppercase cx-button"
					attr.data-auto-id = "MoreATXWatchNow-{{ data.recordingURL }}"
					[ngClass]="data?.recordingURL ? null : 'disabled'"
					(click)="crossLaunch(data.recordingURL)"
					[innerText]="'_WatchNow_' | i18n">
				</button>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #accHover let-autoid="autoid" let-title="title" let-description="description" let-item="item">
	<div id="acc-hover-panel-{{ autoid }}" class="panel" attr.data-auto-id="{{ autoid }}-HoverModal">
		<div class="popover-tail"></div>
		<div class="flex flex-column max-height">
			<div class="icon-bookmark ribbon--hover"
				(click)="updateBookmark(item, 'ACC')"
				[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
				attr.data-auto-id="{{ autoid }}-HoverModal-BookmarkRibbon">
			</div>
			<h6 class="acc-popover__title title-line-clamp" [innerText]="title" attr.data-auto-id="{{ autoid }}-HoverModal-Title"></h6>
			<div class="divider divider--compressed"></div>
			<div class="line-clamp acc-popover__description" [innerText]="description" attr.data-auto-id="{{ autoid }}-HoverModal-Description"></div>
			<div *ngIf="item && item.duration" class="learning-duration text-right text-muted flex-fluid half-margin-left" attr.data-auto-id="{{ autoid }}-HoverModal-Duration">
				<span class="icon-clock icon-small qtr-margin-right" attr.data-auto-id="{{ autoid }}-HoverModal-DurationClock"></span>
				<span [innerText]="item.duration"></span>
			</div>
			<div *ngIf= "item.status.toLowerCase()==='recommended'">
				<ng-container *ngTemplateOutlet="!notCurrentPitstop ? enabledAccButton : disabledAccButton; context: {
					accId: item.accId,
					title: item.title,
					dataAutoId: 'Request1on1ACCButton'
					}">
				</ng-container>
			</div>
			<div class="text-left acc-popover__footer" *ngIf="autoid==='moreACCList' && item.status.toLowerCase()==='in-progress'" attr.data-auto-id="{{ autoid }}-HoverModal-In-Progress">
				<span class="icon-clock qtr-margin-right" attr.data-auto-id="{{ autoid }}-In-Progress-Icon"></span>
				<span class="acc-popover__footer__text" [innerText]="'_SessionInProgress_' | i18n" attr.data-auto-id="{{ autoid }}-In-Progress"></span>
			</div>
			<div class="text-left acc-popover__footer" *ngIf="autoid==='moreACCList' && item.status.toLowerCase()==='requested'" attr.data-auto-id="{{ autoid }}-HoverModal-Requested">
				<span class="icon-check-outline qtr-margin-right" attr.data-auto-id="{{ autoid }}-HoverModal-Requested-Icon"></span>
				<span class="acc-popover__footer__text" [innerText]="'_Requested_' | i18n" attr.data-auto-id="{{ autoid }}-In-Progress"></span>
			</div>
			<div class="text-left text-success acc-popover__footer" *ngIf="autoid==='moreACCList' && item.status.toLowerCase()==='completed'" attr.data-auto-id="{{ autoid }}-HoverModal-CompletedMessage">
				<span class="acc-popover__footer__text" [innerText]="'_Completed_' | i18n"></span>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #recommendedATX let-item="item" let-autoid="autoid" let-title="title" let-src="src">
	<div class="icon-bookmark toggle"
		[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
		(click)="updateBookmark(item, 'ATX')"
		data-auto-id="SBCardRibbon">
	</div>
	<img class="max-width" alt="'_Placeholder_' | i18n" [src]="src" attr.data-auto-id="{{ autoid }}-Image">
	<div class="cx-lifecycle-card--recommended">
		<div>
			<span class="icon-flagged" attr.data-auto-id="{{ autoid }}-Flag"></span>
			<span class="text-small" [innerText]="'_Recommended_' | i18n"></span>
		</div>
		<div class="text-large text-capitalize" [innerText]="title" attr.data-auto-id="{{ autoid }}-Title"></div>
		<ng-container *ngIf="item.status === 'scheduled' && scheduledAtxMap[item.atxId]">
			<div class="cx-lifecycle-card--scheduled row half-padding-bottom">
				<div class="col-md-1 icon-calendar" attr.data-auto-id="{{ autoid }}-Calendar"></div>
				<div class="col-md-11 no-padding-left">
					<div class="text-bold" [innerText]="scheduledAtxMap[item.atxId].sessionStartDate | date:'medium'" attr.data-auto-id="{{ autoid }}-Date"></div>
					<div [innerText]="'_InstructorX_' | i18n:scheduledAtxMap[item.atxId].presenterName" attr.data-auto-id="{{ autoid }}-Presenter"></div>
				</div>
			</div>
		</ng-container>
		<div class="force-flex">
			<ng-container *ngTemplateOutlet="item?.sessions?.length > 0 ? 
				enabledViewSessionsButton : disabledViewSessionsButton; context: {
				type: 'recommendedView'
			}">
			</ng-container>	
			<button class="btn btn--small btn--secondary text-uppercase cx-button"
				data-auto-id = "recommendedATXWatchButton"
				[ngClass]="componentData.atx?.recommended?.recordingURL ? null : 'disabled'"
				(click)="crossLaunch(componentData.atx.recommended.recordingURL)"
				[innerText]="'_WatchNow_' | i18n">
			</button>
			<ng-container *ngIf="componentData?.atx?.recommended && recommendedAtxScheduleCardOpened">
				<ng-container *ngTemplateOutlet="recommendedATXSchedule; context: { data: componentData.atx.recommended }"></ng-container>
			</ng-container>
		</div>
	</div>
</ng-template>

<ng-template #recommendedACC let-item="item" let-autoid="autoid" let-src="src">
	<div class="icon-bookmark"
		[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
		(click)="updateBookmark(item, 'ACC')"
		data-auto-id="SBCardRibbon">
	</div>
	<img class="max-width" alt="'_Placeholder_' | i18n" [src]="src" attr.data-auto-id="{{ autoid }}-Image">
	<div class="cx-lifecycle-card--recommended">
		<div class="qtr-padding-bottom">
			<span class="icon-flagged" attr.data-auto-id="{{ autoid }}-Flag"></span>
			<span class="text-small" [innerText]="'_Recommended_' | i18n"></span>
		</div>
		<div class="text-large" [innerText]="item.title" attr.data-auto-id="{{ autoid }}-Title"></div>
		<ng-container *ngIf="item.status === 'recommended'">
			<ng-container *ngTemplateOutlet="!notCurrentPitstop ? enabledAccButton : disabledAccButton; context: {
				accId: item.accId,
				title: item.title,
				dataAutoId: 'Request1on1ACCButton'
				}">
			</ng-container>
		</ng-container>
		<ng-container *ngIf="item.status === 'in-progress'">
			<span class="icon-clock" attr.data-auto-id="{{ autoid }}-In-Progress-Icon"></span>
			<span [innerText]="'_SessionInProgress_' | i18n" attr.data-auto-id="{{ autoid }}-In-Progress"></span>
		</ng-container>
		<ng-container *ngIf="item.status === 'requested'">
			<span class="icon-check-outline" attr.data-auto-id="{{ autoid }}-Requested-Icon"></span>
			<span [innerText]="'_Requested_' | i18n" attr.data-auto-id="{{ autoid }}-Requested"></span>
		</ng-container>
		<ng-container *ngIf="item.status === 'completed'">
			<div class="icon-certified" attr.data-auto-id="{{ autoid }}-Checkmark"></div>
			<span [innerText]="'_Completed_' | i18n" attr.data-auto-id="{{ autoid }}-Completed"></span>
		</ng-container>
	</div>
</ng-template>

<ng-template #recommendedATXSchedule let-data="data">
	<div class="panel"
		*ngIf="atxScheduleCardOpened || recommendedAtxScheduleCardOpened"
		#viewAtxSessions
		id="viewAtxPanel"
		[ngClass]="getPanel(viewAtxSessions)" data-auto-id="atxScheduleCard">
		<div class="popover-tail"></div>
		<div class="atx-scheduler-one-line">
			<div id="atxtitle" class="text-left title-line-clamp">
				<h5 [innerText]="data.title" data-auto-id="atxScheduleCard-Title"></h5>
			</div>
			<div>
				<a class="no-link closebtn"
					(click)="closeViewSessions()"
					data-auto-id="AtxScheduleCardClose">
					<span class="icon-close icon-small"></span>
				</a>
			</div>
		</div>
		<div class="divider divider--compressed"></div>
		<div class="atx-scheduler-one-line">
			<div>
				<h6 class="text-left"
					[innerText]="'_ChooseSession_' | i18n">
				</h6>
			</div>
			<div>
				<div>
					<span class="icon-clock"></span>
					<span class="text-xsmall" innerText="{{ data.duration*1000 | date:'H:mm:ss':'UTC' }}"></span>
				</div>
			</div>
		</div>
		<div class="session-table responsive-table">
			<table class="table table--nostripes table--selectable">
				<tbody>
					<tr attr.data-auto-id="SelectSession-{{ session.sessionId }}"
						*ngFor="let session of data.sessions"
						(click)="selectSession(session)"
						[ngClass]="{ 'active': sessionSelected?.sessionStartDate === session.sessionStartDate }">
						<td class="text-xsmall"
							[ngClass]="session.scheduled ? 'text-bold' : null"
							innerText="{{session.sessionStartDate | date:'longDate'}}"></td>
						<td class="text-xsmall"
							[ngClass]="session.scheduled ? 'text-bold' : null"
							innerText="{{session.sessionStartDate | date:'shortTime'}}"></td>
						<td class="text-xsmall"
							[ngClass]="session.scheduled ? 'text-bold' : null"
							[innerText]="session.presenterName"></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="atx-scheduler__footer">
			<button id="AtxScheduleCardRegisterButton"
				class="pull-left btn btn--primary"
				data-auto-id = "AtxScheduleCardRegisterButton"
				[ngClass]="getAtxRegisterButton(data)"
				(click)="crossLaunch(sessionSelected.registrationURL)"
				[innerText]="'_Register_' | i18n">
			</button>
			<div class="half-padding-left pull-left">
				<button class="btn btn--secondary text-danger cx-button"
					*ngIf="sessionSelected && sessionSelected.scheduled"
					[innerText]="'_Cancel_' | i18n"
					(click)="cancelATXSession(data)"
					data-auto-id="AtxScheduleCardCancelButton">
				</button>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #accPanel let-data="data">
	<div class="cx-lifecycle-card--subtitle base-margin-bottom" [innerText]="'_1on1Coaching_' | i18n"></div>
	<ng-container *ngIf="data.sessions[0]">
		<ng-container *ngTemplateOutlet="recommended; context: {
				template: recommendedACC,
				hoverTemplate: accHover,
				title: data.sessions[0].title,
				description: data.sessions[0].description,
				item: data.sessions[0],
				src: data.sessions[0].url || 'assets/img/solutions/defaultLifecycleImage.png',
				autoid: 'recommendedACC'
			}">
		</ng-container>
	</ng-container>
	<ng-container *ngIf="data.sessions.length>1">
		<ng-container *ngTemplateOutlet="more; context: { data: data.sessions, autoid: 'moreACCList' }"></ng-container>
	</ng-container>
</ng-template>

<ng-template #more let-data="data" let-autoid="autoid">
	<div class="base-padding-top half-padding-bottom">
		<span class="cx-lifecycle-card--more text-uppercase" [innerText]="'_More_' | i18n" attr.data-auto-id="{{ autoid }}-Header"></span>
	</div>
	<div [attr.data-auto-id]="autoid">
		<div class="cx-lifecycle-card--more-link" #moreList (mouseenter)="getMoreCoordinates(moreList, autoid)" *ngFor="let item of data | slice:1:3">
			<div class="row" attr.data-auto-id="{{ autoid }}-item">
				<div class="col-md-11">
					<div id="{{ autoid }}-item" class="panel small-panel">
						<div class="text-blue" [innerText]="item.title"
							data-auto-id = "ATXMoreClick"
							(click)="atxMoreSelect(item, autoid, moreList)"></div>
						<ng-container *ngIf="autoid==='moreACCList'">
							<ng-container *ngTemplateOutlet="accHover; context: {
								title: item.title,
								description: item.description,
								item: item,
								autoid: 'moreACCList'
							}">
							</ng-container>
						</ng-container>
						<ng-container *ngIf="autoid==='moreATXList'">
							<ng-container *ngTemplateOutlet="atxHover; context: {
								title: item.title,
								description: item.description,
								item: item,
								autoid: 'moreATXList'
							}">
							</ng-container>
						</ng-container>
					</div>
				</div>
				<div
					*ngIf="item.status === 'scheduled'"
					class="col-md-1 icon-calendar"
				></div>
				<div class="col-md-1 icon-certified" *ngIf="item.status === 'completed'" attr.data-auto-id="{{ autoid }}-Checkmark"></div>
				<div class="col-md-1 icon-clock" *ngIf="item.status === 'in-progress'" attr.data-auto-id="{{ autoid }}-ProgressBar"></div>
				<div class="col-md-1 icon-check-outline" *ngIf="item.status === 'requested'"  attr.data-auto-id="{{ autoid }}-RequestedBar"></div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #successBytesPanel let-data="data">
	<div class="cx-lifecycle-card--subtitle base-margin-bottom" [innerText]="'_SuccessBytesSubtitle_' | i18n"></div>
	<div *ngIf="data.success?.length" data-auto-id="SuccessBytesPanel-SuccessPathsBlock">
		<ng-container *ngTemplateOutlet="successBlock; context: {
				title: '_SuccessBytes_',
				data: componentData.learning.success }">
		</ng-container>
		<div class="divider"></div>
	</div>
	<div *ngIf="data.productGuides?.length" data-auto-id="SuccessBytesPanel-ProductGuidesBlock">
		<ng-container *ngTemplateOutlet="productGuidesBlock; context: {
				title: '_ProductGuides_' }">
		</ng-container>
	</div>
</ng-template>

<ng-template #learnPanel let-data="data">
	<div *ngIf="data.elearning?.length" data-auto-id="LearnPanel-ELearningBlock">
		<ng-container *ngTemplateOutlet="learningBlock; context:
			{ icon: 'clipboard-md',
				title: '_ELearning_',
				data: componentData.learning.elearning,
				link: 'https://pilot-digital-learning.cisco.com/cx/#/?type=e-learning' }">
		</ng-container>
		<div class="divider"></div>
	</div>

	<div *ngIf="data.certifications?.length" data-auto-id="LearnPanel-CertificationsBlock">
		<ng-container *ngTemplateOutlet="learningBlock; context:
			{ icon: 'certified',
				title: '_Certifications_',
				data: componentData.learning.certifications,
				link: 'https://pilot-digital-learning.cisco.com/cx/#/?type=certification'} ">
		</ng-container>
	</div>
</ng-template>

<ng-template #learningBlock let-title="title" let-data="data" let-icon="icon" let-link="link">
	<div class="cx-lifecycle-card--subheader">
		<span class="icon-{{ icon }}"></span>
		<span class="text-uppercase" [innerText]="title | i18n"></span>
		<div class="view-all pull-right toggle"
			*ngIf="data">
			<a class="no-link show"
				(click)="crossLaunch(link)"
				attr.data-auto-id="{{ title }}-ViewAll">
				<span class="text-med" [innerText]="'_ViewAll_' | i18n"></span>
				<span class="icon-play"></span>
			</a>
		</div>
	</div>
	<div>
		<div class="cx-lifecycle-card--link" *ngFor="let item of data | slice:0:3">
			<div id="recommended-elearning-item" class=" panel small-panel" attr.data-auto-id="{{ title }}-Item">
				<div class="row">
					<div class="col-md-11">
						<a class="no-link" (click)="crossLaunch(item.url)" attr.data-auto-id="{{ title }} -item.title">
							<span [innerText]="item.title"></span>
						</a>
					</div>
					<div class="col-md-1 icon-certified" *ngIf="item.percentagecompleted === 100" attr.data-auto-id="{{ title }}-completedIcon"></div>
					<div class="col-md-1 progressbar qtr-margin-top qtr-margin-bottom learning-progress-col" [attr.data-percentage]="item.percentagecompleted" *ngIf="item.percentagecompleted && item.percentagecompleted != 100" attr.data-auto-id="{{ title }}-progressBar">
						<div class="progressbar__fill learning-progressfill-col"></div>
					</div>
					<ng-container *ngTemplateOutlet="learningHover; context: {
						title: item.title,
						description: item.description,
						item: item,
						autoid: 'recommendedElearning'
					}">
					</ng-container>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #successBlock let-title="title" let-data="data">
	<div>
		<div id="successbytes-item" class="cx-lifecycle-card--link panel small-panel" data-auto-id="successbytes-item" *ngFor="let item of data | slice:0:3">
			<a class="toggle" (click)="crossLaunch(item.url)" [innerText]="item.title" attr.data-auto-id="{{ title }} -item.title"></a>
			<ng-container *ngTemplateOutlet="successBytesHoverBlock; context: {
				item: item,
				autoid: 'successbytes'
			}">
			</ng-container>
		</div>
	</div>
</ng-template>

<ng-template #successBytesHoverBlock let-item="item" let-autoid="autoid">
		<div id="sb-hover-panel-{{ autoid }}" class="panel" attr.data-auto-id="{{ autoid }}-HoverModal">
			<div class="popover-tail"></div>
			<div class="flex flex-column max-height">
				<div class="icon-bookmark ribbon--hover"
					(click)="updateBookmark(item, 'SB')"
					[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
					attr.data-auto-id="{{ autoid }}-HoverModal-BookmarkRibbon">
				</div>
				<h6 class="sb-popover__title title-line-clamp" [innerText]="item.title" attr.data-auto-id="{{ autoid }}-HoverModal-Title"></h6>
				<div class="divider divider--compressed"></div>
				<div class="sb-desc-line-clamp sb-popover__description" [innerText]="item.description" attr.data-auto-id="{{ autoid }}-HoverModal-Description"></div>
				<div class="sb-popover__footer">
					<div>
						<a class="no-link successbytes-type-link" data-auto-id="successlink" target="_blank" rel="noopener noreferrer" [href]="item.url">
							<ng-container *ngTemplateOutlet="itemTypeIcons; context: {
								item: item,
								autoid: 'SuccessBytesHoverBlock'
							}">
							</ng-container>
						</a>
					</div>
					<div *ngIf="item && item.duration" class="learning-duration" attr.data-auto-id="{{ autoid }}-HoverModal-Duration">
						<span class="icon-clock qtr-margin-right" attr.data-auto-id="{{ autoid }}-HoverModal-DurationClock"></span>
						<span [innerText]="item.duration" class="sb-popover__footer__text"></span>
					</div>
				</div>
			</div>
		</div>
</ng-template>

<ng-template #productGuidesBlock let-title="title">
	<div class="cx-lifecycle-card--link">
		<span class="toggle"
			[innerText]="title | i18n"
			(click)="showModal(title)"
			attr.data-auto-id="ShowModalPanel-{{ title }}"></span>
	</div>
</ng-template>

<ng-template #viewAllModal let-data="data" let-type="type">
	<div id="viewAllModal" class="flex lifecycle-viewall-modal modal__content no-padding" data-auto-id="ViewAllModal">
		<span (click)="closeModal()" data-auto-id="ViewAllCloseModal"
			class="icon-close icon-small toggle cx-text-secondary"></span>
		<div class="modal__header acc__header no-margin-bottom">
			<div class="row base-margin-top">
				<div class="col-md-11 half-margin-top">
					<div class="modal__header__title cx-text-default text-left qtr-margin-bottom" 
						[innerText]="getTitle(type)" 
						data-auto-id="ViewAllModal-Title"></div>
					<div class="modal__header__description text-left cx-text-light-gray" 
						[innerText]="getSubtitle(type)" 
						data-auto-id="ViewAllModal-Subtitle"></div>
				</div>
				<div class="col-md-1 half-margin-top">
				</div>
			</div>
		</div>
		<div class="divider no-margin-right qtr-margin-top"></div>
		<div class="modal__body base-padding-top base-padding-bottom">
			<ng-container [ngSwitch]="type">
				<ng-container *ngSwitchCase="'ACC'">
					<div class="flex-center-vertical">
						<div class="text-left modal__body__topics cx-text-default"
							[innerText]="'_TopicsAvailableSolution_' | i18n:selectedACC?.length || 0:componentData.params.solution:componentData.params.usecase"
							data-auto-id="ViewAllModal-TopicsAvailable">
						</div>
						<div class="modal__body__filter">
							<cui-select class="lifecycle-filter"
								data-auto-id="acc-filter"
								[items]="statusOptions"
								[empty]="true"
								[placeholder]="'_FilterBy_' | i18n"
								[(ngModel)]="selectedFilterForACC"
								(ngModelChange)="selectFilter('ACC')">
							</cui-select>
						</div>
						<div class="text-right modal__body__view-toggle">
							<div class="btn-group btn-group--square">
								<button class="btn btn--small" data-auto-id="acc-table-view-btn"
									[ngClass]="{'selected': accview ==='list' }" (click)="selectView('list', type)">
									<span class="icon-list-view"></span>
								</button>
								<button class="btn btn--small" data-auto-id="acc-card-view-btn"
									[ngClass]="{'selected': accview === 'grid' }" (click)="selectView('grid', type)">
									<span class="icon-grid-view"></span>
								</button>
							</div>
						</div>
					</div>
					<ng-container *ngTemplateOutlet="cardViewTemplate; context: { type: type, view: this.accview }"></ng-container>
					<ng-container *ngTemplateOutlet="listViewTemplate; context: { type: type, view: this.accview }"></ng-container>
				</ng-container>
				<ng-container *ngSwitchCase="'ATX'">
					<div class="flex-center-vertical">
						<div class="text-left modal__body__topics cx-text-default"
							[innerText]="'_TopicsAvailableSolution_' | i18n:selectedATX?.length || 0:componentData.params.solution:componentData.params.usecase" data-auto-id="ATXTopicsAvailable">
						</div>
						<div class="modal__body__filter">
							<cui-select class="lifecycle-filter"
								data-auto-id="atx-filter"
								[items]="statusOptions"
								[empty]="true"
								[placeholder]="'_FilterBy_' | i18n"
								[(ngModel)]="selectedFilterForATX"
								(ngModelChange)="selectFilter('ATX')">
							</cui-select>
						</div>
						<div class="text-right modal__body__view-toggle">
							<div class="btn-group btn-group--square">
								<button class="btn btn--small" data-auto-id="atx-table-view-btn"
									[ngClass]="{'selected': atxview ==='list' }" (click)="selectView('list', type); atxScheduleCardOpened = false; selectSession(); eventXCoordinates = 0; eventYCoordinates = 0">
									<span class="icon-list-view"></span>
								</button>
								<button class="btn btn--small" data-auto-id="atx-card-view-btn"
									[ngClass]="{'selected': atxview === 'grid' }" (click)="selectView('grid', type); atxScheduleCardOpened = false; selectSession(); eventXCoordinates = 0; eventYCoordinates = 0">
									<span class="icon-grid-view"></span>
								</button>
							</div>
						</div>
					</div>
					<ng-container *ngTemplateOutlet="cardViewTemplate; context: { type: type, view: this.atxview }"></ng-container>
					<ng-container *ngTemplateOutlet="listViewTemplate; context: { type: type, view: this.atxview }"></ng-container>
				</ng-container>
				<ng-container *ngSwitchCase="'SB'">
					<div class="flex-center-vertical">
						<div class="text-left modal__body__topics cx-text-default"
							[innerText]="'_TopicsAvailableSolution_' | i18n:selectedSuccessPaths?.length || 0:componentData.params.solution:componentData.params.usecase">
						</div>
						<div class="modal__body__filter">
							<cui-select class="lifecycle-filter"
								data-auto-id="category-filter"
								[items]="categoryOptions"
								[empty]="true"
								[placeholder]="'_FilterBy_' | i18n"
								[(ngModel)]="selectedFilterForSB"
								(ngModelChange)="selectFilter('SB')">
							</cui-select>
						</div>
						<div class="modal__body__view-toggle text-right">
							<div class="btn-group btn-group--square">
								<button class="btn btn--small" data-auto-id="sb-table-view-btn"
									[ngClass]="{'selected': sbview ==='list' }" (click)="selectView('list', type)">
									<span class="icon-list-view"></span>
								</button>
								<button class="btn btn--small" data-auto-id="sb-card-view-btn"
									[ngClass]="{'selected': sbview === 'grid' }" (click)="selectView('grid', type)">
									<span class="icon-grid-view"></span>
								</button>
							</div>
						</div>
					</div>
					<ng-container *ngTemplateOutlet="cardViewTemplate; context: { type: type, view: this.sbview }"></ng-container>
					<ng-container *ngTemplateOutlet="listViewTemplate; context: { type: type, view: this.sbview }"></ng-container>
				</ng-container>
				<ng-container *ngSwitchCase="'PG'">
					<div class="flex-center-vertical">
						<div class="text-left modal__body__topics cx-text-default"
							[innerText]="'_TopicsAvailableSolution_' | i18n:selectedProductGuides?.length || 0:componentData.params.solution:componentData.params.usecase">
						</div>
						<div class="modal__body__filter">
							<cui-select class="lifecycle-filter"
								data-auto-id="pg-category-filter"
								[items]="pgCategoryOptions"
								[empty]="true"
								[placeholder]="'_FilterBy_' | i18n"
								[(ngModel)]="selectedFilterForPG"
								(ngModelChange)="selectFilter('PG')">
							</cui-select>
						</div>
						<div class="modal__body__view-toggle text-right">
							<div class="btn-group btn-group--square">
								<button class="btn btn--small" data-auto-id="pg-table-view-btn"
									[ngClass]="{'selected': pgview ==='list' }" (click)="selectView('list', type)">
									<span class="icon-list-view"></span>
								</button>
								<button class="btn btn--small" data-auto-id="pg-card-view-btn"
									[ngClass]="{'selected': pgview === 'grid' }" (click)="selectView('grid', type)">
									<span class="icon-grid-view"></span>
								</button>
							</div>
						</div>
					</div>
					<ng-container *ngTemplateOutlet="cardViewTemplate; context: { type: type, view: this.pgview }"></ng-container>
					<ng-container *ngTemplateOutlet="listViewTemplate; context: { type: type, view: this.pgview }"></ng-container>
				</ng-container>
			</ng-container>
		</div>
	</div>
</ng-template>

<ng-template #cardViewTemplate let-type="type" let-view="view">
	<div class="grid base-padding card-view"
		[ngClass]="(type === 'SB' || type === 'PG') ? 'success-grid' : ''"
		*ngIf="(!view || view === 'grid')"
		#scrollModal (scroll)="getScrollCoordinates(scrollModal)">
		<ng-container *ngIf="type === 'ATX'">
			<ng-container *ngTemplateOutlet="cardATX"></ng-container>
		</ng-container>
		<ng-container *ngIf="type === 'ACC'">
			<ng-container *ngTemplateOutlet="cardACC"></ng-container>
		</ng-container>
		<ng-container *ngIf="type === 'SB'">
			<ng-container *ngTemplateOutlet="cardSB"></ng-container>
		</ng-container>
		<ng-container *ngIf="type === 'PG'">
			<ng-container *ngTemplateOutlet="cardPG"></ng-container>
		</ng-container>
	</div>
</ng-template>

<ng-template #listViewTemplate let-type="type" let-view="view">
		<div class="base-padding-right base-margin-top list-view" *ngIf="view === 'list'" #scrollModal (scroll)="getScrollCoordinates(scrollModal)" data-auto-id="ViewAllTable">
			<div class="base-margin-top">
					<table class="table table--nostripes table--wrap table--hover table--loose">
					<ng-container *ngIf="type === 'ATX'">
						<ng-container *ngTemplateOutlet="listView; context: { type: type, columns: atxTable.columns, data: selectedATX }"></ng-container>
					</ng-container>
					<ng-container *ngIf="type === 'ACC'">
						<ng-container *ngTemplateOutlet="listView; context: { type: type, columns: accTable.columns, data: selectedACC }"></ng-container>
					</ng-container>
					<ng-container *ngIf="type === 'SB'">
						<ng-container *ngTemplateOutlet="listView; context: { type: type, columns: successBytesTable.columns, data: selectedSuccessPaths }"></ng-container>
					</ng-container>
					<ng-container *ngIf="type === 'PG'">
						<ng-container *ngTemplateOutlet="listView; context: { type: type, columns: productGuidesTable.columns, data: selectedProductGuides }"></ng-container>
					</ng-container>
					</table>
				</div>
	</div>
</ng-template>

<ng-template #cardATX>
	<div class="card atx__card"
		*ngFor="let item of selectedATX"
		[ngClass]="item.status === 'recommended' ? 'atx__card__recommended' : null"
		data-auto-id="ATXCard">
		<img class="max-width" alt="'_Placeholder_' | i18n" [src]="item.imageURL || 'assets/img/solutions/defaultLifecycleImage.png'" data-auto-id="ATXCard-Image">
		<div class="text-left base-padding-left atx__card__label" [ngClass]="item.status === 'Recommended' ? 'text-dkgray-4' : 'text-clear'" data-auto-id="ATXCardHeader">
			<span class="icon-flagged qtr-margin-right" data-auto-id="ATXCard-Flag"></span>
			<span class="text-small" [innerText]="'_Recommended_' | i18n"></span>
		</div>
		<div class="icon-bookmark toggle"
			(click)="updateBookmark(item, 'ATX')"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			data-auto-id="ATXCardRibbon">
		</div>
		<div class="card__header atx__card__header text-left"
			*ngIf="item && item.title"
			[innerText]="item.title"
			data-auto-id="ATXCardTitle">
		</div>
		<div class="card__body atx__card__body text-left desc-line-clamp" *ngIf="item && item.description" [innerText]="item.description" data-auto-id="ATXCard-Description"></div>
		<div class="card__footer atx__card__footer">
			<div class="card_footer_item"  data-auto-id="ATXCardFooter">
				<div class="atx__card__status text-left base-padding-left base-padding-right base-margin-bottom flex-middle">
					<span class="text-success icon-certified half-padding-right" *ngIf="item.status === 'completed'" data-auto-id="ATXCardFooter-CompletedIcon"></span>
					<span class="text-info icon-clock half-padding-right" *ngIf="item.status === 'in-progress'" data-auto-id="ATXCardFooter-InProgressIcon"></span>
					<span class="text-info icon-check-outline half-padding-right" *ngIf="item.status === 'requested'" data-auto-id="ATXCardFooter-RequestedIcon"></span>
					<span class="text-medium" [innerText]="'_Completed_' | i18n" *ngIf="item.status === 'completed'" data-auto-id="ATXCardFooter-CompletedText"></span>
					<span class="text-medium" [innerText]="'_InProgress_' | i18n" *ngIf="item.status === 'in-progress'" data-auto-id="ATXCardFooter-InProgressText"></span>
					<span class="text-medium" [innerText]="'_Requested_' | i18n" *ngIf="item.status === 'requested'" data-auto-id="ATXCardFooter-RequestedText"></span>
				</div>
				<div class="text-left base-padding-left base-padding-right base-margin-bottom"
					*ngIf="item.status === 'scheduled'">
					<div *ngFor="let session of item.sessions">
						<div
							*ngIf="session.scheduled"
							class="text-info icon-calendar half-padding-right"
							data-auto-id="ATXCardFooter-ScheduledIcon"
						></div>
						<span class="text-medium" innerText="{{session.sessionStartDate | date:'medium'}}" data-auto-id="ATXCardFooter-ScheduledDate" *ngIf="session.scheduled"></span>
					</div>
				</div>
				<div class="divider no-margin"></div>
				<div class="atx__card__actions">
					<ng-container *ngTemplateOutlet="item?.sessions?.length > 0 ? 
						enabledViewSessionsButton : disabledViewSessionsButton; context: {
						type: 'cardView',
						componentData: componentData,
						item: item
					}">
					</ng-container>
					<button class="btn btn--small btn--secondary text-uppercase cx-button"
						attr.data-auto-id = "CardATXWatchNow-{{ item.recordingURL }}"
						[ngClass]="item?.recordingURL ? null : 'disabled'"
						(click)="crossLaunch(item.recordingURL)"
						[innerText]="'_WatchNow_' | i18n">
					</button>
				</div>
			</div>
		</div>
		<ng-container *ngIf="item == componentData.atx.interested && atxScheduleCardOpened">
			<ng-container *ngTemplateOutlet="recommendedATXSchedule; context: { data: componentData.atx.interested }">
			</ng-container>
		</ng-container>
	</div>
</ng-template>

<ng-template #cardACC>
	<div class="card atx__card" *ngFor="let item of selectedACC"
		[ngClass]="item.status === 'recommended' ? 'acc__card__recommended' : null" data-auto-id="ACCCard">
		<img class="max-width" alt="'_Placeholder_' | i18n" [src]="item.url || 'assets/img/solutions/defaultLifecycleImage.png'" attr.data-auto-id="{{ autoid }}-Image">
		<div class="text-left base-padding-left atx__card__label" [ngClass]="item.status === 'recommended' ? 'text-dkgray-4' : 'text-clear'"
			data-auto-id="ACCCardHeader">
			<span class="icon-flagged qtr-margin-right" data-auto-id="ACCCard-Flag"></span>
			<span class="text-small" [innerText]="'_Recommended_' | i18n"></span>
		</div>
		<div class="icon-bookmark" (click)="updateBookmark(item, 'ACC')"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			data-auto-id="ACCCardRibbon">
		</div>
		<div class="card__header atx__card__header text-left"
			*ngIf="item && item.title" [innerText]="item.title" data-auto-id="ACCCardTitle">
		</div>
		<div class="card__body atx__card__body text-left desc-line-clamp" *ngIf="item && item.description"
			[innerText]="item.description" data-auto-id="ACCCardDescription"></div>
		<div class="card__footer atx__card__footer">
			<div class="card_footer_item" data-auto-id="ACCCardFooter">
				<div class="atx__card__status text-left base-padding-left base-padding-right base-margin-bottom flex-middle">
					<span class="text-success icon-certified half-padding-right" *ngIf="item.status === 'completed'"></span>
					<span class="text-info icon-clock half-padding-right" *ngIf="item.status === 'in-progress'"></span>
					<span class="text-info icon-check-outline half-padding-right" *ngIf="item.status === 'requested'"></span>
					<span class="text-medium" [innerText]="'_Completed_' | i18n" *ngIf="item.status === 'completed'"></span>
					<span class="text-medium" [innerText]="'_SessionInProgress_' | i18n" *ngIf="item.status === 'in-progress'"></span>
					<span class="text-medium" [innerText]="'_Requested_' | i18n" *ngIf="item.status === 'requested'"></span>
				</div>
				<div class="divider no-margin"></div>
				<div class="atx__card__actions">
					<div class="text-left text-info" *ngIf="item.status === 'recommended'">
						<ng-container *ngTemplateOutlet="!notCurrentPitstop ? enabledAccButton : disabledAccButton; context: {
							accId: item.accId,
							title: item.title,
							dataAutoId: 'Request1on1ACCButton'
							}">
						</ng-container>
					</div>
					<div class="text-left text-info base-padding-bottom half-padding-top" *ngIf="item.status !== 'recommended'"></div>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #cardSB>
	<div class="card success__card"
		*ngFor="let item of selectedSuccessPaths"
		data-auto-id="SBCard">
		<div class="icon-bookmark toggle"
			(click)="updateBookmark(item, 'SB')"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			data-auto-id="SBCardRibbon">
		</div>
		<div class="card__header success__card__archetype text-left text-small text-uppercase base-margin-top qtr-margin-bottom" [innerText]="item.archetype" data-auto-id="SBCardArchetype"></div>
		<div class="card__header success__card__header text-left">
			<a class="no-link" data-auto-id="successtitle" target="_blank" rel="noopener noreferrer"
					[href]="item.url">
				<span class="title-line-clamp" data-auto-id="SBCardTitle" [innerText]="item.title"></span>
			</a>
		</div>
		<div class="card__body success__card__body text-left desc-line-clamp" *ngIf="item && item.description" [innerText]="item.description" data-auto-id="SBCardDescription"></div>
		<div class="success__card__icons">
			<ng-container *ngTemplateOutlet="itemTypeIcons; context: {
				item: item,
				autoid: 'SuccessBytesCard'
			}">
			</ng-container>
			<div class="duration text-muted" *ngIf="item.duration">
				<span class="icon-clock qtr-padding-right"></span>
				<span [innerText]="item.duration"></span>
			</div>
		</div>
		<div class="card__footer success__card__footer">
			<div class="card_footer_item"  data-auto-id="SBCardFooter">
				<div class="divider no-margin"></div>
				<div class="atx__card__actions">
					<a class="no-link" target="_blank" [href]="item.url">
						<button data-auto-id="LaunchButton" class="btn btn--small btn--secondary text-uppercase"
							[innerText]="'_View_' | i18n"></button>
					</a>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #listView let-data="data" let-columns="columns" let-type="type">
	<tr class="th-row">
		<th *ngFor="let column of columns"
			attr.data-auto-id="ViewAllTable-columnHeader-{{ column.name }}"
			[ngClass]="{ 'sortable': column.sortable }"
			(click)="column.sortable ? onSort(column.sortKey, column.sortDirection, type) : null">
			<span [innerText]="column.name"></span>
			<span *ngIf="column.sortable" class="qtr-margin-left" [ngClass]="{
							'icon-chevron-down': column.sortDirection === 'asc',
							'icon-chevron-up': column.sortDirection === 'desc'
						}">
			</span>
		</th>
	</tr>
	<tr class="td-row" *ngFor="let item of data">
		<td class="text-left" *ngFor="let column of columns" [ngStyle]="{ 'width': column.width }">
			<ng-container *ngIf="column.template">
				<ng-container *ngTemplateOutlet="column.template; context: { celldata: item, type: type }"></ng-container>
			</ng-container>
			<ng-container *ngIf="!column.template">
				<div [innerText]="item[column.key]" attr.data-auto-id="ViewAllTable-{{ column.name }}-rowValue">
				</div>
			</ng-container>
		</td>
	</tr>
	<ng-container *ngIf="atxScheduleCardOpened && componentData.atx.interested">
			<ng-container *ngTemplateOutlet="recommendedATXSchedule; context: { data: componentData.atx.interested }"></ng-container>
	</ng-container>
</ng-template>

<ng-template #cardPG>
	<div class="card success__card"
		*ngFor="let item of selectedProductGuides"
		data-auto-id="PGCard">
		<div class="icon-bookmark toggle"
			(click)="updateBookmark(item, 'PG')"
			[ngClass]="item.bookmark ? 'ribbon__blue' : 'ribbon__white'"
			data-auto-id="PGCardRibbon">
		</div>
		<div class="card__header success__card__archetype text-left text-small text-uppercase base-margin-top qtr-margin-bottom" [innerText]="item.archetype" data-auto-id="PGCardArchetype"></div>
		<div class="card__header success__card__header text-left">
			<a class="no-link" data-auto-id="successtitle" target="_blank" rel="noopener noreferrer"
					[href]="item.url">
				<span class="title-line-clamp" data-auto-id="PGCardTitle" [innerText]="item.title"></span>
			</a>
		</div>
		<div class="card__body success__card__body text-left desc-line-clamp" *ngIf="item && item.description" [innerText]="item.description" data-auto-id="PGCardDescription"></div>
		<div class="success__card__icons">
			<ng-container *ngTemplateOutlet="itemTypeIcons; context: {
				item: item,
				autoid: 'ProductGuidesCard'
			}">
			</ng-container>
			<div class="duration text-muted" *ngIf="item.duration" data-auto-id="PGCardDuration">
				<span class="icon-clock qtr-padding-right"></span>
				<span [innerText]="item.duration"></span>
			</div>
		</div>
		<div class="card__footer success__card__footer">
			<div class="card_footer_item"  data-auto-id="PGCardFooter">
				<div class="divider no-margin"></div>
				<div class="atx__card__actions">
					<a class="no-link" target="_blank" [href]="item.url">
						<button data-auto-id="LaunchButton" class="btn btn--small btn--secondary text-uppercase"
							[innerText]="'_View_' | i18n"></button>
					</a>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #coaching let-results="results">
	<div id="coachingModal" class="modal__content no-padding">
		<div class="modal__header webinar-title-background no-margin">
			<div class="row half-padding-top">
				<div class="col-md-11 half-margin-top base-padding-left">
					<div class="text-xlarge text-left text-white" [innerText]="'_Accelerator_' | i18n"></div>
				</div>
				<div class="col-md-1 half-margin-top">
					<span (click)="closeModal()" data-auto-id="WebinarModalClose" class="icon-close icon-medium text-right"></span>
				</div>
			</div>
		</div>
		<div class="modal__body">
			<div class="base-padding-left text-medium text-bold text-left half-padding-bottom half-padding-top" [innerText]="'_TopicsAvailable_' | i18n:results.webinars.length"></div>
			<div class="row base-padding-left base-padding-right base-padding-bottom">
				<div class="col-md-3 base-padding-bottom" *ngFor="let result of results.webinars">
					<div class="card max-height tab-background">
						<div class="card__header text-left text-bold" [innerText]="result.title"></div>
						<div class="card__body webinar-card text-left" [innerText]="result.summary"></div>
						<div class="card__footer">
							<div class="col-md-8">
								<div class="row">
									<span class="icon-play-contained icon-small"></span>
									<span [innerText]="'_WatchOnDemand_' | i18n"></span>
								</div>
								<div class="row">
									<span class="icon-calendar icon-small"></span>
									<span [innerText]="'_ChooseSession_' | i18n"></span>
								</div>
							</div>
							<div class="col-md">
								<div class="row flex-center-vertical">
									<span class="icon-clock icon-small"></span>
									<span [innerText]="'_Placeholder_' | i18n"></span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #cgtRequestTraining let-data="data">
	<div class="panel cgtpanel--open panel--bordered"
		*ngIf="cgtRequestTrainingClicked"
		data-auto-id="cgtTrainingLimitPopup">
		<div class="row base-margin-top half-margin-left half-margin-right">
			<div class="col-md-11 text-left">
				<div class="half-margin-left" [innerText]="data | i18n"></div>
			</div>
			<div class="col-md-1">
				<a class="no-link closebtn"
					(click)="cgtRequestTrainingClicked = false"
					data-auto-id="Close-CgtTrainingComplete-Popup">
					<span class="icon-close icon-small"></span>
				</a>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #cgtPanel let-data="data">
	<div class="cx-lifecycle-card--subtitle base-margin-bottom" [innerText]="'_CGTDescription_' | i18n"></div>
	<div class="text-left" *ngIf="data.trainingsAvailable===0">
		<button (click)="cgtRequestTrainingClicked = true"
			class="btn btn--small text-uppercase cx-button"
			[ngClass]="cgtRequestTrainingClicked ? ' btn--gray-ghost disabled' : 'btn--secondary'"
			[innerText]="'_RequestTraining_' | i18n"
			data-auto-id="Request-CgtCompleted">
		</button>
		<ng-container *ngTemplateOutlet="cgtRequestTraining; context: { data:  '_CGTSessionLimitReached_' }"></ng-container>
	</div>
	<div class="text-left" *ngIf="data.trainingsAvailable>0">
		<button (click)="selectCgtRequestForm(true, data.usedTrainings)"
			class="btn btn--small btn--secondary text-uppercase cx-button"
			[innerText]="'_RequestTraining_' | i18n"
			data-auto-id="Request-CgtTraining">
		</button>
	</div>
	<div *ngIf="data.sessions.length>0" data-auto-id="CGTCompletedList">
		<div class="divider"></div>
		<div class="cx-lifecycle-card--cgt-session">
			<div class="half-padding-bottom" *ngFor="let item of data.sessions | slice:0:2">
				<div class="panel small-panel">
					<div class="row flex-center-vertical">
						<div class="col-md-11">
							<div class="text-med qtr-padding-bottom" [innerText]="item.trainingDuration"></div>
							<div class="text-small" [innerText]="item.trainingLocation"></div>
						</div>
						<div class="col-md-1 icon-certified"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #panel let-template="template" let-title="title" let-loading="loading" let-data="data" let-viewAll="viewAll" let-viewAllLabel="viewAllLabel" let-icon="icon">
	<div class="cx-lifecycle-card panel base-padding-left base-padding-right panel-border-top" attr.data-auto-id="{{ title | i18n }} Panel" *ngIf="viewAll!=='acc' || data?.sessions?.length>0">
		<div class="qtr-padding-bottom">
			<span class="icon-{{ icon }}" *ngIf="icon"></span>
			<span class="cx-lifecycle-card--title text-uppercase" [innerText]="title | i18n" attr.data-auto-id="PanelTitle-{{title}}"></span>
			<div class="view-all pull-right toggle" *ngIf="viewAll">
				<div  *ngIf="data"
					(click)="showModal(viewAll)"
					attr.data-auto-id="ShowModalPanel-{{ title }}">
					<span class="text-med" [innerText]="viewAllLabel | i18n"></span>
					<span class="icon-play"></span>
				</div>
			</div>
		</div>

		<div *ngIf="!loading && data">
			<ng-container *ngTemplateOutlet="template; context: { data: data }"></ng-container>
		</div>
		<div *ngIf="loading">
			<cui-spinner></cui-spinner>
		</div>
	</div>
</ng-template>

<ng-container *ngIf="selectAccComponent">
	<acc-request-form (visibleComponent)="selectAccRequestForm($event)"
		[accId]="accIdRequestForm"
		[accTitle]="accTitleRequestForm"
		[solution]="selectedSolution.name"
		[technology]="selectedTechnology.name"
		[pitstop]="currentPitstop.name"
		(submitted)="accRequestSubmit($event)">
	</acc-request-form>
</ng-container>

<ng-template #formatTemplate let-celldata="celldata">
	<div class="row">
		<div class="col-md-5">
			<div *ngIf="celldata.type">
					<ng-container *ngTemplateOutlet="itemTypeIcons; context: {
						item: celldata,
						autoid: 'TableView'
					}">
					</ng-container>
			</div>
		</div>
		<div class="col-md-7">
			<div *ngIf="celldata.duration" class="base-margin-left text-muted">
				<span class="icon-clock icon-small" data-auto-id="ViewAllTable-Format-rowValue-clock"></span>
				<span class="qtr-margin-left" [innerText]="celldata.duration" data-auto-id="ViewAllTable-Format-rowValue-duration"></span>
			</div>
		</div>
	</div>
</ng-template>

<ng-template #bookmarkTemplate let-celldata="celldata" let-type="type">
	<div class="flex-center-vertical justify-content-between bookmark-column">
		<div>
			<div *ngIf="celldata.bookmark" class="icon-bookmark icon-bookmark--on half-margin-right"
				(click)="updateBookmark(celldata, type)" data-auto-id="SBListRibbon"></div>
			<div *ngIf="!celldata.bookmark" class="icon-bookmark icon-bookmark--off half-margin-right"
				(click)="updateBookmark(celldata, type)" data-auto-id="SBListRibbon"></div>
		</div>
		<img class="table-img-width"
			*ngIf="type === 'ATX' || type === 'ACC'"
			alt="'_Placeholder_' | i18n" 
			[src]="celldata.imageURL || celldata.url || 'assets/img/solutions/defaultLifecycleImage.png'"
			attr.data-auto-id="{{ type }}-Image" />
	</div>
</ng-template>

<ng-template #statusTemplate let-celldata="celldata">
	<div *ngIf="celldata.status ==='scheduled'" data-auto-id="Table-Status-Scheduled">
		<div *ngFor="let session of celldata.sessions">
			<div *ngIf="session.scheduled">
				<span class="text-primary icon-calendar icon-small" data-auto-id="Table-Status-Scheduled-Icon"></span>
				<span class="half-margin-left"
					innerText="{{ session.sessionStartDate | date:'medium'}}" data-auto-id="scheduledDate"></span>
			</div>
		</div>
	</div>
	<div *ngIf="celldata.status === 'requested'" data-auto-id="Table-Status-Requested">
		<span class="text-primary icon-check-outline icon-small"></span>
		<span class="half-margin-left" [innerText]="'_Requested_' | i18n"></span>
	</div>
	<div *ngIf="celldata.status ==='in-progress'" data-auto-id="Table-Status-InProgress">
		<span class="text-primary icon-clock icon-small"></span>
		<span class="half-margin-left" [innerText]="'_InProgress_' | i18n"></span>
	</div>
	<div *ngIf="celldata.status ==='completed'" data-auto-id="Table-Status-Completed">
		<span class="text-success icon-certified icon-small" data-auto-id="Table-Status-Completed-Icon"></span>
		<span class="half-margin-left" [innerText]="'_Completed_' | i18n" data-auto-id="Table-Status-Completed-Text"></span>
	</div>
</ng-template>

<ng-template #actionTemplate let-celldata="celldata" let-type="type">
	<div class="text-right" *ngIf="type === 'ATX'">
		<ng-container *ngTemplateOutlet="celldata?.sessions?.length > 0 ? 
			enabledViewSessionsButton : disabledViewSessionsButton; context: {
			type:'listView',
			componentData: componentData,
			item: celldata
		}">
		</ng-container>			
		<button class="btn btn--small btn--secondary text-uppercase cx-button half-margin-left"
			attr.data-auto-id = "ListATXWatchNow-{{ celldata.recordingURL }}"
			[ngClass]="celldata?.recordingURL ? null : 'disabled'"
			(click)="crossLaunch(celldata.recordingURL)"
			[innerText]="'_WatchNow_' | i18n">
		</button>
	</div>
	<div *ngIf="type === 'ACC' && celldata.status === 'recommended'" class="text-right">
		<ng-container *ngTemplateOutlet="!notCurrentPitstop ? enabledAccButton : disabledAccButton; context: {
			accId: celldata.accId,
			title: celldata.title,
			dataAutoId: 'Request1on1ACCButton'
			}">
		</ng-container>
	</div>
	<div *ngIf="type === 'SB' || type==='PG'" class="text-right">
		<a class="no-link" target="_blank" [href]="celldata.url">
			<button data-auto-id="LaunchButton" class="btn btn--small btn--secondary cx-button text-uppercase qtr-margin-left"
				[innerText]="'_View_' | i18n"></button>
		</a>
	</div>
</ng-template>

<ng-template #enabledAccButton let-accId="accId" let-title="title">
	<button data-auto-id="Request1on1ACCButton"
		(click)="selectAccRequestForm(true, accId, title)"
		class="btn btn--small btn--secondary text-uppercase cx-button"
		[innerText]="'_Request1on1_' | i18n">
	</button>
</ng-template>

<ng-template #disabledAccButton>
	<div tooltip
		[tooltipTemplate]="accDisableTooltip"
		tooltipDelay="500"
		tooltipMaxWidth="275">
		<button data-auto-id="Request1on1ACCButton"
			class="btn btn--small btn--secondary text-uppercase disabled cx-button"
			[innerText]="'_Request1on1_' | i18n">
		</button>
	</div>
</ng-template>

<ng-template #accDisableTooltip><p [innerText]="'_DisableACCRegister_' | i18n"></p></ng-template>

<ng-template #enabledViewSessionsButton let-type="type" let-componentData="componentData" let-item="item">
		<span [ngSwitch]="type" class="qtr-margin-right">
			<button *ngSwitchCase="'moreView'" class="btn btn--small btn--secondary text-uppercase 
				cx-button"
				attr.data-auto-id="MoreATXViewSessions"
				(click)="atxMoreViewSessions()"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'recommendedView'" id="recommendedATXScheduleButton" 
				data-auto-id="recommendedATXScheduleButton"
				class="btn btn--small btn--secondary text-uppercase qtr-margin-right cx-button"
				(click)="recommendedATXViewSessions($event)"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'listView'" data-auto-id="ViewSessionButton" 
				class="btn btn--small btn--secondary 
					cx-button text-uppercase qtr-margin-bottom qtr-margin-top cx-button"
				(click)="atxScheduleCardOpened = true; 
					recommendedAtxScheduleCardOpened = false; 
					componentData.atx.interested = item; getCoordinates($event)"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'cardView'" id="cardRecommendedATXScheduleButton" 
				data-auto-id="cardRecommendedATXScheduleButton"
				class="btn btn--small btn--secondary text-uppercase cx-button"
				(click)="atxScheduleCardOpened = true;
						recommendedAtxScheduleCardOpened = false;
						componentData.atx.interested = item;
						getCoordinates($event)"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
		</span>
</ng-template>
	
<ng-template #disabledViewSessionsButton let-type="type">
		<span [ngSwitch]="type" tooltip
			[tooltipTemplate]="viewSessionsDisableTooltip"
			tooltipDelay="500"
			tooltipMaxWidth="225"
			tooltipMaxHeight="85"
			class="qtr-margin-right">
			<button *ngSwitchCase="'moreView'" 
				class="btn btn--small btn--secondary text-uppercase cx-button disabled"
				attr.data-auto-id="MoreATXViewSessions"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'recommendedView'"  
				data-auto-id="recommendedATXScheduleButton"
				class="btn btn--small btn--secondary text-uppercase qtr-margin-right cx-button 
					disabled"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'listView'" data-auto-id="ViewSessionButton" 
				class="btn btn--small btn--secondary cx-button text-uppercase qtr-margin-bottom 
					qtr-margin-top cx-button disabled"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
			<button *ngSwitchCase="'cardView'"
				data-auto-id="cardRecommendedATXScheduleButton"
				class="btn btn--small btn--secondary text-uppercase cx-button disabled"
				[innerText]="'_ViewSessions_' | i18n">
			</button>
		</span>
</ng-template>

<ng-template #viewSessionsDisableTooltip><span [innerText]="'_DisableViewSessions_' | i18n"></span></ng-template>

<ng-template #titleTemplate let-celldata="celldata" let-type="type">
	<div class="row" *ngIf="type==='ATX' || type === 'ACC'">
		<div class="col-md-12 flex">
			<span *ngIf="celldata.status === 'recommended'" class="icon-flagged qtr-margin-right cx-text-light-gray"></span>
			<div class="no-margin cx-text-default" [innerText]="celldata.title" attr.data-auto-id="{{ type }}-Title"></div>
		</div>
	</div>
	<div *ngIf="type==='SB' || type==='PG'">
		<a class="no-link" target="_blank" rel="noopener noreferrer"
			[innerText]="celldata.title" [href]="celldata.url" attr.data-auto-id="{{ type }}-Name-rowValue"></a>
	</div>
</ng-template>

<ng-container *ngIf="selectCgtComponent">
	<cgt-request-form (visibleComponent)="selectCgtRequestForm($event)"
		[usedTrainingData]="usedTrainingsList"
		[solution]="selectedSolution.name"
		[technology]="selectedTechnology.name"
		[pitstop]="currentPitstop.name"
		(submitted)="cgtRequestSubmit($event)">
	</cgt-request-form>
</ng-container>

<ng-template #itemTypeIcons let-item="item" let-autoid="autoid">
	<div class="type text-left text-muted" *ngIf="item.type === 'Web Page'" attr.data-auto-id="{{ autoid }}-WebIcon">
		<span class="icon-apps qtr-padding-right"></span>
		<span class="item-type__text" [innerText]="'_Web_' | i18n"></span>
	</div>
	<div class="type text-left text-muted" *ngIf="item.type === 'Video'" attr.data-auto-id="{{ autoid }}-VideoIcon">
		<span class="icon-play-contained qtr-padding-right"></span>
		<span class="item-type__text" [innerText]="'_Video_' | i18n"></span>
	</div>
	<div class="type text-left text-muted" *ngIf="item.type === 'PDF'" attr.data-auto-id="{{ autoid }}-PDFIcon">
		<span class="icon-file-pdf-o qtr-padding-right"></span>
		<span class="item-type__text" [innerText]="'_PDF_' | i18n"></span>
	</div>
	<div class="type text-left text-muted" *ngIf="item.type === 'Data Sheet'" attr.data-auto-id="{{ autoid }}-DataSheetIcon">
		<span class="icon-document qtr-padding-right"></span>
		<span class="item-type__text" [innerText]="'_Datasheet_' | i18n"></span>
	</div>
</ng-template>
