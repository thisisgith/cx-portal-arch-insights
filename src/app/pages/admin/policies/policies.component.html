<admin-wrapper>
	<div *ngIf="error">
		<div class="alert alert--danger" role="alert">
			<div class="alert__icon icon-error-outline"></div>
			<div class="alert__message" [innerText]="errorMessage"></div>
		</div>
	</div>
	<div *ngIf="!loading" class="container settings-container">
		<div class="row">
			<div class="col-lg-7" data-auto-id="settings.policies.scans">
				<div class="row flex base-margin-right">
					<div class="col-9">
						<h5 class="base-margin-top half-margin-bottom" data-auto-id="settings.polices.scans.label"
							[innerText]="'_DiagnosticScans_' | i18n | uppercase"></h5>
					</div>
					<div class="col-3">
						<button
							class="btn btn--small btn--secondary base-margin-top half-margin-bottom qtr-margin-right"
							[innerText]="'_NewScheduledScan_' | i18n | uppercase"
							data-auto-id="settings.policies.new-scan-button"
							(click)="onNewPolicy()">
						</button>
					</div>
				</div>

				<div
					*ngFor="let scan of scans"
					class="panel panel--bordered flex base-margin-right"
					data-auto-id="settings.policies.collection.panel">
					<div class="col-1 flex-center">
						<span
						class="icon-small"
						[ngClass]="scan.policyType ? 'icon-diagnostics text-success' : 'icon-blocked text-muted'"
						></span>
					</div>
					<div class="col-10">
						<div [innerText]="scan.deviceCount + ' devices are scanned ' + scan.formattedSchedule"></div>
					</div>
					<div class="col-1 flex-center">
						<span class="icon-pencil icon-small" [ngClass]="'text-primary'"></span>
					</div>
				</div>

				<h5 class="base-margin-top half-margin-bottom" data-auto-id="settings.policies.collection.label"
					[innerText]="'_Collection_' | i18n | uppercase"></h5>
				<div
					*ngFor="let collection of collections"
					class="panel panel--bordered flex base-margin-right"
					data-auto-id="settings.policies.collection.panel">
					<div class="col-1 flex-center">
						<span class="icon-compliance icon-small text-primary"></span>
					</div>
					<div class="col-10">
						<div [innerText]="'Network runs collection ' + collection.formattedSchedule"></div>
					</div>
					<div class="col-1 flex-center">
						<span class="icon-pencil icon-small" [ngClass]="'text-primary'"></span>
					</div>
				</div>
			</div>
			<div class="col-lg-5" data-auto-id="settings.collection.schedule">
				<h5 class="base-margin-top base-margin-bottom" data-auto-id="settings.system.usage.label"
					[innerText]="'_ScanAndCollectionSchedule_' | i18n | uppercase"></h5>
				<div>
					Calendar
				</div>
			</div>
		</div>
	</div>
	<div *ngIf="loading" class="absolute-center">
		<cui-loader></cui-loader>
	</div>
</admin-wrapper>